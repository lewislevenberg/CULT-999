require({cache:{"js/Map":function(){define("dojo/_base/declare,dojo/_base/lang,dojo/dom,dojo/dom-construct,esri/map,esri/dijit/OverviewMap".split(","),function(f,g,i,k,h,b){var d=function(c,d){c.map.fadeOnZoom=!1;c.map.disableScrollWheelZoom();c.map.disableDoubleClickZoom();d.enable_zoom?(c.initial_extent=c.map.geographicExtent,k.create("div",{innerHTML:k.create("img",{src:cesri_api._base+"/images/home.png",className:"HomeButton"}).outerHTML,onclick:g.hitch(c,function(){this.map.setExtent(c.initial_extent)}),
className:"esriSimpleSliderIncrementButton"},i.byId(d.div_id+"_zoom_slider").firstChild,"after")):(c.map.hideZoomSlider(),c.map.disableRubberBandZoom());d.lock&&(c.map.hideZoomSlider(),c.map.disableMapNavigation());d.mini_map&&(new b({map:c.map,attachTo:"top-right"})).startup();c.map.infoWindow.domNode.className="info_window transparent";c.map.infoWindow.domNode.innerHTML="";var a=document.createElement("div");a.className="legend";a.id=d.div_id+"_legend";i.byId(d.div_id+"_root").appendChild(a);d.onload&&
setTimeout(d.onload,100)};return f([],{constructor:function(b){var e={div_id:"map",onload:cesri_map_loaded,enable_zoom:!0,lock:!1,mini_map:!1,basemap:"gray",min_zoom:1,max_zoom:9},a=g.mixin(e,b);this.lock=a.lock;this.enable_zoom=a.enable_zoom;this.initial_extent=null;if(i.byId(a.div_id+"_infowindow"))return null;this.map=new h(a.div_id,{basemap:a.basemap,minZoom:a.min_zoom<e.min_zoom?e.min_zoom:a.min_zoom,maxZoom:a.max_zoom>e.max_zoom?e.max_zoom:a.max_zoom,showAttribution:!1,displayGraphicsOnPan:!1,
logo:!1});if(this.map.loaded)d(this,a);else this.map.on("load",g.hitch(this,function(){d(this,a)}))},setBasemap:function(b){this.map&&this.map.setBasemap(b)}})})},"dojo/_base/declare":function(){define("dojo/_base/declare",["./kernel","../has","./lang"],function(f,g,i){function k(a,b){throw Error("declare"+(b?" "+b:"")+": "+a);}function h(a,b,c){var j,d,l,e,o,n,m,p=this._inherited=this._inherited||{};"string"==typeof a&&(j=a,a=b,b=c);c=0;e=a.callee;(j=j||e.nom)||k("can't deduce a name to call inherited()",
this.declaredClass);o=this.constructor._meta;l=o.bases;m=p.p;if(j!=F){if(p.c!==e&&(m=0,n=l[0],o=n._meta,o.hidden[j]!==e)){(d=o.chains)&&"string"==typeof d[j]&&k("calling chained method with inherited: "+j,this.declaredClass);do if(o=n._meta,d=n.prototype,o&&(d[j]===e&&d.hasOwnProperty(j)||o.hidden[j]===e))break;while(n=l[++m]);m=n?m:-1}if(n=l[++m])if(d=n.prototype,n._meta&&d.hasOwnProperty(j))c=d[j];else{e=B[j];do if(d=n.prototype,(c=d[j])&&(n._meta?d.hasOwnProperty(j):c!==e))break;while(n=l[++m])}c=
n&&c||B[j]}else{if(p.c!==e&&(m=0,(o=l[0]._meta)&&o.ctor!==e)){d=o.chains;for((!d||"manual"!==d.constructor)&&k("calling chained constructor with inherited",this.declaredClass);(n=l[++m])&&!((o=n._meta)&&o.ctor===e););m=n?m:-1}for(;(n=l[++m])&&!(c=(o=n._meta)?o.ctor:n););c=n&&c}p.c=c;p.p=m;if(c)return!0===b?c:c.apply(this,b||a)}function b(a,b){return"string"==typeof a?this.__inherited(a,b,!0):this.__inherited(a,!0)}function d(a,b,c){var j=this.getInherited(a,b);if(j)return j.apply(this,c||b||a)}function c(a){for(var b=
this.constructor._meta.bases,c=0,j=b.length;c<j;++c)if(b[c]===a)return!0;return this instanceof a}function e(a,b){for(var c in b)c!=F&&b.hasOwnProperty(c)&&(a[c]=b[c]);if(g("bug-for-in-skips-shadowed"))for(var j=i._extraNames,d=j.length;d;)c=j[--d],c!=F&&b.hasOwnProperty(c)&&(a[c]=b[c])}function a(a){y.safeMixin(this.prototype,a);return this}function l(a){return y([this].concat(a))}function j(a,b){return function(){var q;var c=arguments,j=c,d=c[0],l,e;e=a.length;var o;if(!(this instanceof c.callee))return r(c);
if(b&&(d&&d.preamble||this.preamble)){o=Array(a.length);o[0]=c;for(l=0;;){if(d=c[0])(d=d.preamble)&&(c=d.apply(this,c)||c);d=a[l].prototype;(d=d.hasOwnProperty("preamble")&&d.preamble)&&(c=d.apply(this,c)||c);if(++l==e)break;o[l]=c}}for(l=e-1;0<=l;--l)d=a[l],(q=(e=d._meta)?e.ctor:d,d=q)&&d.apply(this,o?o[l]:c);(d=this.postscript)&&d.apply(this,j)}}function o(a,b){return function(){var c=arguments,d=c,j=c[0];if(!(this instanceof c.callee))return r(c);if(b){if(j)(j=j.preamble)&&(d=j.apply(this,d)||
d);(j=this.preamble)&&j.apply(this,d)}a&&a.apply(this,c);(j=this.postscript)&&j.apply(this,c)}}function m(a){return function(){var q;var b=arguments,c=0,d,j;if(!(this instanceof b.callee))return r(b);for(;d=a[c];++c)if(q=(j=d._meta)?j.ctor:d,d=q){d.apply(this,b);break}(d=this.postscript)&&d.apply(this,b)}}function n(a,b,c){return function(){var d,j,l=0,e=1;c&&(l=b.length-1,e=-1);for(;d=b[l];l+=e)j=d._meta,(d=(j?j.hidden:d.prototype)[a])&&d.apply(this,arguments)}}function p(a){s.prototype=a.prototype;
a=new s;s.prototype=null;return a}function r(a){var b=a.callee,c=p(b);b.apply(c,a);return c}function y(d,f,g){"string"!=typeof d&&(g=f,f=d,d="");var g=g||{},s,r,q,x,A,t,u,E=1,L=f;if("[object Array]"==H.call(f)){E=d;q=[];x=[{cls:0,refs:[]}];t={};for(var I=1,K=f.length,D=0,z,J,v,C;D<K;++D){(z=f[D])?"[object Function]"!=H.call(z)&&k("mixin #"+D+" is not a callable constructor.",E):k("mixin #"+D+" is unknown. Did you use dojo.require to pull it in?",E);J=z._meta?z._meta.bases:[z];v=0;for(z=J.length-1;0<=
z;--z){C=J[z].prototype;if(!C.hasOwnProperty("declaredClass"))C.declaredClass="uniqName_"+w++;C=C.declaredClass;t.hasOwnProperty(C)||(t[C]={count:0,refs:[],cls:J[z]},++I);C=t[C];v&&v!==C&&(C.refs.push(v),++v.count);v=C}++v.count;x[0].refs.push(v)}for(;x.length;){v=x.pop();q.push(v.cls);for(--I;r=v.refs,1==r.length;){v=r[0];if(!v||--v.count){v=0;break}q.push(v.cls);--I}if(v)for(D=0,K=r.length;D<K;++D)v=r[D],--v.count||x.push(v)}I&&k("can't build consistent linearization",E);z=f[0];q[0]=z?z._meta&&
z===q[q.length-z._meta.bases.length]?z._meta.bases.length:1:0;t=q;q=t[0];E=t.length-q;f=t[E]}else t=[0],f?"[object Function]"==H.call(f)?(q=f._meta,t=t.concat(q?q.bases:f)):k("base class is not a callable constructor.",d):null!==f&&k("unknown base class. Did you use dojo.require to pull it in?",d);if(f)for(r=E-1;;--r){s=p(f);if(!r)break;q=t[r];(q._meta?e:G)(s,q.prototype);x=new Function;x.superclass=f;x.prototype=s;f=s.constructor=x}else s={};y.safeMixin(s,g);q=g.constructor;if(q!==B.constructor)q.nom=
F,s.constructor=q;for(r=E-1;r;--r)(q=t[r]._meta)&&q.chains&&(u=G(u||{},q.chains));s["-chains-"]&&(u=G(u||{},s["-chains-"]));q=!u||!u.hasOwnProperty(F);t[0]=x=u&&"manual"===u.constructor?m(t):1==t.length?o(g.constructor,q):j(t,q);x._meta={bases:t,hidden:g,chains:u,parents:L,ctor:g.constructor};x.superclass=f&&f.prototype;x.extend=a;x.createSubclass=l;x.prototype=s;s.constructor=x;s.getInherited=b;s.isInstanceOf=c;s.inherited=M;s.__inherited=h;if(d)s.declaredClass=d,i.setObject(d,x);if(u)for(A in u)if(s[A]&&
"string"==typeof u[A]&&A!=F)q=s[A]=n(A,t,"after"===u[A]),q.nom=A;return x}var G=i.mixin,B=Object.prototype,H=B.toString,s=new Function,w=0,F="constructor",M=f.config.isDebug?d:h;f.safeMixin=y.safeMixin=function(a,b){var c,d;for(c in b)if(d=b[c],(d!==B[c]||!(c in B))&&c!=F){if("[object Function]"==H.call(d))d.nom=c;a[c]=d}if(g("bug-for-in-skips-shadowed"))for(var j=i._extraNames,l=j.length;l;)if(c=j[--l],d=b[c],(d!==B[c]||!(c in B))&&c!=F){if("[object Function]"==H.call(d))d.nom=c;a[c]=d}return a};
return f.declare=y})},"dojo/_base/kernel":function(){define("dojo/_base/kernel",["../has","./config","require","module"],function(f,g,i,k){var h,f={},b={},d={config:g,global:this,dijit:f,dojox:b},f={dojo:["dojo",d],dijit:["dijit",f],dojox:["dojox",b]},k=i.map&&i.map[k.id.match(/[^\/]+/)[0]];for(h in k)f[h]?f[h][0]=k[h]:f[h]=[k[h],{}];for(h in f)k=f[h],k[1]._scopeName=k[0],g.noGlobals||(this[k[0]]=k[1]);d.scopeMap=f;d.baseUrl=d.config.baseUrl=i.baseUrl;d.isAsync=i.async;d.locale=g.locale;g="$Rev: 30226 $".match(/\d+/);
d.version={major:1,minor:8,patch:3,flag:"",revision:g?+g[0]:NaN,toString:function(){var b=d.version;return b.major+"."+b.minor+"."+b.patch+b.flag+" ("+b.revision+")"}};Function("d","d.eval = function(){return d.global.eval ? d.global.eval(arguments[0]) : eval(arguments[0]);}")(d);d.exit=function(){};d.deprecated=d.experimental=function(){};d.moduleUrl=function(b,e){d.deprecated("dojo.moduleUrl()","use require.toUrl","2.0");var a=null;b&&(a=i.toUrl(b.replace(/\./g,"/")+(e?"/"+e:"")+"/*.*").replace(/\/\*\.\*/,
"")+(e?"":"/"));return a};d._hasResource={};return d})},"dojo/has":function(){define("dojo/has",["require","module"],function(f){var g=f.has||function(){};g.add("dom-addeventlistener",!!document.addEventListener);g.add("device-width",screen.availWidth||innerWidth);f=document.createElement("form");g.add("dom-attributes-explicit",0==f.attributes.length);g.add("dom-attributes-specified-flag",0<f.attributes.length&&40>f.attributes.length);g.clearElement=function(f){f.innerHTML="";return f};g.normalize=
function(f,k){var h=f.match(/[\?:]|[^:\?]*/g),b=0,d=function(c){var e=h[b++];if(":"==e)return 0;if("?"==h[b++]){if(!c&&g(e))return d();d(!0);return d(c)}return e||0};return(f=d())&&k(f)};g.load=function(f,g,h){f?g([f],h):h()};return g})},"dojo/_base/config":function(){define("dojo/_base/config",["../has","require"],function(f,g){var i={},k=g.rawConfig,h;for(h in k)i[h]=k[h];return i})},"dojo/_base/lang":function(){define("dojo/_base/lang",["./kernel","../has","../sniff"],function(f,g){g.add("bug-for-in-skips-shadowed",
function(){for(var a in{toString:1})return 0;return 1});var i=g("bug-for-in-skips-shadowed")?"hasOwnProperty.valueOf.isPrototypeOf.propertyIsEnumerable.toLocaleString.toString.constructor".split("."):[],k=i.length,h=function(a,b,d){var c,e=0,n=f.global;if(!d)if(a.length){c=a[e++];try{d=f.scopeMap[c]&&f.scopeMap[c][1]}catch(p){}d=d||(c in n?n[c]:b?n[c]={}:void 0)}else return n;for(;d&&(c=a[e++]);)d=c in d?d[c]:b?d[c]={}:void 0;return d},b=Object.prototype.toString,d=function(a,b,d){return(d||[]).concat(Array.prototype.slice.call(a,
b||0))},c=/\{([^\}]+)\}/g,e={_extraNames:i,_mixin:function(a,b,d){var c,e,n,f={};for(c in b)if(e=b[c],!(c in a)||a[c]!==e&&(!(c in f)||f[c]!==e))a[c]=d?d(e):e;if(g("bug-for-in-skips-shadowed")&&b)for(n=0;n<k;++n)if(c=i[n],e=b[c],!(c in a)||a[c]!==e&&(!(c in f)||f[c]!==e))a[c]=d?d(e):e;return a},mixin:function(a,b){a||(a={});for(var c=1,d=arguments.length;c<d;c++)e._mixin(a,arguments[c]);return a},setObject:function(a,b,c){var d=a.split("."),a=d.pop();return(c=h(d,!0,c))&&a?c[a]=b:void 0},getObject:function(a,
b,c){return h(a.split("."),b,c)},exists:function(a,b){return void 0!==e.getObject(a,!1,b)},isString:function(a){return"string"==typeof a||a instanceof String},isArray:function(a){return a&&(a instanceof Array||"array"==typeof a)},isFunction:function(a){return"[object Function]"===b.call(a)},isObject:function(a){return void 0!==a&&(null===a||"object"==typeof a||e.isArray(a)||e.isFunction(a))},isArrayLike:function(a){return a&&void 0!==a&&!e.isString(a)&&!e.isFunction(a)&&!(a.tagName&&"form"==a.tagName.toLowerCase())&&
(e.isArray(a)||isFinite(a.length))},isAlien:function(a){return a&&!e.isFunction(a)&&/\{\s*\[native code\]\s*\}/.test(""+a)},extend:function(a,b){for(var c=1,d=arguments.length;c<d;c++)e._mixin(a.prototype,arguments[c]);return a},_hitchArgs:function(a,b){var c=e._toArray(arguments,2),d=e.isString(b);return function(){var m=e._toArray(arguments),n=d?(a||f.global)[b]:b;return n&&n.apply(a||this,c.concat(m))}},hitch:function(a,b){if(2<arguments.length)return e._hitchArgs.apply(f,arguments);b||(b=a,a=
null);if(e.isString(b)){a=a||f.global;if(!a[b])throw['lang.hitch: scope["',b,'"] is null (scope="',a,'")'].join("");return function(){return a[b].apply(a,arguments||[])}}return!a?b:function(){return b.apply(a,arguments||[])}},delegate:function(){function a(){}return function(b,c){a.prototype=b;var d=new a;a.prototype=null;c&&e._mixin(d,c);return d}}(),_toArray:g("ie")?function(){function a(a,b,c){c=c||[];for(b=b||0;b<a.length;b++)c.push(a[b]);return c}return function(b){return(b.item?a:d).apply(this,
arguments)}}():d,partial:function(a){return e.hitch.apply(f,[null].concat(e._toArray(arguments)))},clone:function(a){if(!a||"object"!=typeof a||e.isFunction(a))return a;if(a.nodeType&&"cloneNode"in a)return a.cloneNode(!0);if(a instanceof Date)return new Date(a.getTime());if(a instanceof RegExp)return RegExp(a);var b,c,d;if(e.isArray(a)){b=[];for(c=0,d=a.length;c<d;++c)c in a&&b.push(e.clone(a[c]))}else b=a.constructor?new a.constructor:{};return e._mixin(b,a,e.clone)},trim:String.prototype.trim?
function(a){return a.trim()}:function(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},replace:function(a,b,d){return a.replace(d||c,e.isFunction(b)?b:function(a,c){return e.getObject(c,!1,b)})}};e.mixin(f,e);return e})},"dojo/sniff":function(){define("dojo/sniff",["./has"],function(f){var g=navigator,i=g.userAgent,g=g.appVersion,k=parseFloat(g);f.add("air",0<=i.indexOf("AdobeAIR"));f.add("khtml",0<=g.indexOf("Konqueror")?k:void 0);f.add("webkit",parseFloat(i.split("WebKit/")[1])||void 0);f.add("chrome",
parseFloat(i.split("Chrome/")[1])||void 0);f.add("safari",0<=g.indexOf("Safari")&&!f("chrome")?parseFloat(g.split("Version/")[1]):void 0);f.add("mac",0<=g.indexOf("Macintosh"));f.add("quirks","BackCompat"==document.compatMode);f.add("ios",/iPhone|iPod|iPad/.test(i));f.add("android",parseFloat(i.split("Android ")[1])||void 0);if(!f("webkit")){0<=i.indexOf("Opera")&&f.add("opera",9.8<=k?parseFloat(i.split("Version/")[1])||k:k);0<=i.indexOf("Gecko")&&!f("khtml")&&!f("webkit")&&f.add("mozilla",k);f("mozilla")&&
f.add("ff",parseFloat(i.split("Firefox/")[1]||i.split("Minefield/")[1])||void 0);if(document.all&&!f("opera"))i=parseFloat(g.split("MSIE ")[1])||void 0,(g=document.documentMode)&&5!=g&&Math.floor(i)!=g&&(i=g),f.add("ie",i);f.add("wii","undefined"!=typeof opera&&opera.wiiremote)}return f})},"dojo/dom":function(){define("dojo/dom",["./sniff","./_base/window"],function(f,g){if(7>=f("ie"))try{document.execCommand("BackgroundImageCache",!1,!0)}catch(i){}var k={};k.byId=f("ie")?function(b,d){if("string"!=
typeof b)return b;var c=d||g.doc,e=b&&c.getElementById(b);if(e&&(e.attributes.id.value==b||e.id==b))return e;c=c.all[b];if(!c||c.nodeName)c=[c];for(var a=0;e=c[a++];)if(e.attributes&&e.attributes.id&&e.attributes.id.value==b||e.id==b)return e}:function(b,d){return("string"==typeof b?(d||g.doc).getElementById(b):b)||null};k.isDescendant=function(b,d){try{b=k.byId(b);for(d=k.byId(d);b;){if(b==d)return!0;b=b.parentNode}}catch(c){}return!1};f.add("css-user-select",function(b,d,c){if(!c)return!1;var b=
c.style,d=["Khtml","O","ms","Moz","Webkit"],c=d.length,e="userSelect";do if("undefined"!==typeof b[e])return e;while(c--&&(e=d[c]+"UserSelect"));return!1});var h=f("css-user-select");k.setSelectable=h?function(b,d){k.byId(b).style[h]=d?"":"none"}:function(b,d){var b=k.byId(b),c=b.getElementsByTagName("*"),e=c.length;if(d)for(b.removeAttribute("unselectable");e--;)c[e].removeAttribute("unselectable");else for(b.setAttribute("unselectable","on");e--;)c[e].setAttribute("unselectable","on")};return k})},
"dojo/_base/window":function(){define("dojo/_base/window",["./kernel","./lang","../sniff"],function(f,g,i){var k={global:f.global,doc:this.document||null,body:function(h){h=h||f.doc;return h.body||h.getElementsByTagName("body")[0]},setContext:function(h,b){f.global=k.global=h;f.doc=k.doc=b},withGlobal:function(h,b,d,c){var e=f.global;try{return f.global=k.global=h,k.withDoc.call(null,h.document,b,d,c)}finally{f.global=k.global=e}},withDoc:function(h,b,d,c){var e=k.doc,a=i("quirks"),l=i("ie"),j,o,
m;try{f.doc=k.doc=h;f.isQuirks=i.add("quirks","BackCompat"==f.doc.compatMode,!0,!0);if(i("ie")&&(m=h.parentWindow)&&m.navigator)j=parseFloat(m.navigator.appVersion.split("MSIE ")[1])||void 0,(o=h.documentMode)&&5!=o&&Math.floor(j)!=o&&(j=o),f.isIE=i.add("ie",j,!0,!0);d&&"string"==typeof b&&(b=d[b]);return b.apply(d,c||[])}finally{f.doc=k.doc=e,f.isQuirks=i.add("quirks",a,!0,!0),f.isIE=i.add("ie",l,!0,!0)}}};g.mixin(f,k);return k})},"dojo/dom-construct":function(){define("dojo/dom-construct","exports,./_base/kernel,./sniff,./_base/window,./dom,./dom-attr,./on".split(","),
function(f,g,i,k,h,b){function d(a,b){var c=b.parentNode;c&&c.insertBefore(a,b)}var c={option:["select"],tbody:["table"],thead:["table"],tfoot:["table"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","thead","tr"],legend:["fieldset"],caption:["table"],colgroup:["table"],col:["table","colgroup"],li:["ul"]},e=/<\s*([\w\:]+)/,a={},l=0,j="__"+g._scopeName+"ToDomId",o;for(o in c)if(c.hasOwnProperty(o))g=c[o],g.pre="option"==o?'<select multiple="multiple">':"<"+g.join("><")+">",g.post="</"+
g.reverse().join("></")+">";f.toDom=function(b,d){var d=d||k.doc,f=d[j];f||(d[j]=f=++l+"",a[f]=d.createElement("div"));var b=b+"",m=b.match(e),h=m?m[1].toLowerCase():"",f=a[f];if(m&&c[h]){m=c[h];f.innerHTML=m.pre+b+m.post;for(m=m.length;m;--m)f=f.firstChild}else f.innerHTML=b;if(1==f.childNodes.length)return f.removeChild(f.firstChild);for(h=d.createDocumentFragment();m=f.firstChild;)h.appendChild(m);return h};f.place=function(a,b,c){b=h.byId(b);"string"==typeof a&&(a=/^\s*</.test(a)?f.toDom(a,b.ownerDocument):
h.byId(a));if("number"==typeof c){var e=b.childNodes;!e.length||e.length<=c?b.appendChild(a):d(a,e[0>c?0:c])}else switch(c){case "before":d(a,b);break;case "after":c=a;(e=b.parentNode)&&(e.lastChild==b?e.appendChild(c):e.insertBefore(c,b.nextSibling));break;case "replace":b.parentNode.replaceChild(a,b);break;case "only":f.empty(b);b.appendChild(a);break;case "first":if(b.firstChild){d(a,b.firstChild);break}default:b.appendChild(a)}return a};f.create=function(a,c,d,e){var j=k.doc;if(d)d=h.byId(d),
j=d.ownerDocument;"string"==typeof a&&(a=j.createElement(a));c&&b.set(a,c);d&&f.place(a,d,e);return a};var m=i("ie")?function(a){try{a.innerHTML=""}catch(b){for(var c;c=a.lastChild;){var d=a;c.firstChild&&m(c);d&&d.removeChild(c)}}}:function(a){a.innerHTML=""};f.empty=function(a){m(h.byId(a))};f.destroy=function(a){if(a=h.byId(a)){var b=a,a=a.parentNode;b.firstChild&&m(b);a&&a.removeChild(b)}}})},"dojo/dom-attr":function(){define("dojo/dom-attr","exports,./sniff,./_base/lang,./dom,./dom-style,./dom-prop".split(","),
function(f,g,i,k,h,b){function d(a,b){var c=a.getAttributeNode&&a.getAttributeNode(b);return c&&c.specified}var c={innerHTML:1,className:1,htmlFor:g("ie"),value:1},e={classname:"class",htmlfor:"for",tabindex:"tabIndex",readonly:"readOnly"};f.has=function(a,f){var j=f.toLowerCase();return c[b.names[j]||f]||d(k.byId(a),e[j]||f)};f.get=function(a,f){var a=k.byId(a),j=f.toLowerCase(),h=b.names[j]||f,m=a[h];if(c[h]&&"undefined"!=typeof m||"href"!=h&&("boolean"==typeof m||i.isFunction(m)))return m;j=e[j]||
f;return d(a,j)?a.getAttribute(j):null};f.set=function(a,d,j){a=k.byId(a);if(2==arguments.length){for(var o in d)f.set(a,o,d[o]);return a}o=d.toLowerCase();var m=b.names[o]||d,g=c[m];if("style"==m&&"string"!=typeof j)return h.set(a,j),a;if(g||"boolean"==typeof j||i.isFunction(j))return b.set(a,d,j);a.setAttribute(e[o]||d,j);return a};f.remove=function(a,b){k.byId(a).removeAttribute(e[b.toLowerCase()]||b)};f.getNodeProp=function(a,c){var a=k.byId(a),j=c.toLowerCase(),f=b.names[j]||c;if(f in a&&"href"!=
f)return a[f];j=e[j]||c;return d(a,j)?a.getAttribute(j):null}})},"dojo/dom-style":function(){define("dojo/dom-style",["./sniff","./dom"],function(f,g){function i(c,d,e){d=d.toLowerCase();if(f("ie")){if("auto"==e){if("height"==d)return c.offsetHeight;if("width"==d)return c.offsetWidth}if("fontweight"==d)switch(e){case 700:return"bold";default:return"normal"}}d in a||(a[d]=l.test(d));return a[d]?b(c,e):e}var k,h={};k=f("webkit")?function(a){var b;if(1==a.nodeType){var c=a.ownerDocument.defaultView;
b=c.getComputedStyle(a,null);if(!b&&a.style)a.style.display="",b=c.getComputedStyle(a,null)}return b||{}}:f("ie")&&(9>f("ie")||f("quirks"))?function(a){return 1==a.nodeType&&a.currentStyle?a.currentStyle:{}}:function(a){return 1==a.nodeType?a.ownerDocument.defaultView.getComputedStyle(a,null):{}};h.getComputedStyle=k;var b;b=f("ie")?function(a,b){if(!b)return 0;if("medium"==b)return 4;if(b.slice&&"px"==b.slice(-2))return parseFloat(b);var c=a.style,d=a.runtimeStyle,e=c.left,j=d.left;d.left=a.currentStyle.left;
try{c.left=b,b=c.pixelLeft}catch(f){b=0}c.left=e;d.left=j;return b}:function(a,b){return parseFloat(b)||0};h.toPixelValue=b;var d=function(a,b){try{return a.filters.item("DXImageTransform.Microsoft.Alpha")}catch(c){return b?{}:null}},c=9>f("ie")||10>f("ie")&&f("quirks")?function(a){try{return d(a).Opacity/100}catch(b){return 1}}:function(a){return k(a).opacity},e=9>f("ie")||10>f("ie")&&f("quirks")?function(a,b){var c=100*b,j=1==b;a.style.zoom=j?"":1;if(d(a))d(a,1).Opacity=c;else{if(j)return b;a.style.filter+=
" progid:DXImageTransform.Microsoft.Alpha(Opacity="+c+")"}d(a,1).Enabled=!j;if("tr"==a.tagName.toLowerCase())for(c=a.firstChild;c;c=c.nextSibling)"td"==c.tagName.toLowerCase()&&e(c,b);return b}:function(a,b){return a.style.opacity=b},a={left:!0,top:!0},l=/margin|padding|width|height|max|min|offset/,j=f("ie")?"styleFloat":"cssFloat",o={cssFloat:j,styleFloat:j,"float":j};h.get=function(a,b){var d=g.byId(a),e=arguments.length;if(2==e&&"opacity"==b)return c(d);var b=o[b]||b,j=h.getComputedStyle(d);return 1==
e?j:i(d,b,j[b]||d.style[b])};h.set=function(a,b,c){var d=g.byId(a),j=arguments.length,f="opacity"==b,b=o[b]||b;if(3==j)return f?e(d,c):d.style[b]=c;for(var l in b)h.set(a,l,b[l]);return h.getComputedStyle(d)};return h})},"dojo/dom-prop":function(){define("dojo/dom-prop","exports,./_base/kernel,./sniff,./_base/lang,./dom,./dom-style,./dom-construct,./_base/connect".split(","),function(f,g,i,k,h,b,d,c){var e={},a=0,l=g._scopeName+"attrid";f.names={"class":"className","for":"htmlFor",tabindex:"tabIndex",
readonly:"readOnly",colspan:"colSpan",frameborder:"frameBorder",rowspan:"rowSpan",valuetype:"valueType"};f.get=function(a,b){var a=h.byId(a),c=b.toLowerCase();return a[f.names[c]||b]};f.set=function(j,g,m){j=h.byId(j);if(2==arguments.length&&"string"!=typeof g){for(var n in g)f.set(j,n,g[n]);return j}n=g.toLowerCase();n=f.names[n]||g;if("style"==n&&"string"!=typeof m)return b.set(j,m),j;if("innerHTML"==n)return i("ie")&&j.tagName.toLowerCase()in{col:1,colgroup:1,table:1,tbody:1,tfoot:1,thead:1,tr:1,
title:1}?(d.empty(j),j.appendChild(d.toDom(m,j.ownerDocument))):j[n]=m,j;if(k.isFunction(m)){var p=j[l];p||(p=a++,j[l]=p);e[p]||(e[p]={});var r=e[p][n];if(r)c.disconnect(r);else try{delete j[n]}catch(y){}m?e[p][n]=c.connect(j,n,m):j[n]=null;return j}j[n]=m;return j}})},"dojo/_base/connect":function(){define("dojo/_base/connect","./kernel,../on,../topic,../aspect,./event,../mouse,./sniff,./lang,../keys".split(","),function(f,g,i,k,h,b,d,c){function e(a,d,e,j,l){j=c.hitch(e,j);if(!a||!a.addEventListener&&
!a.attachEvent)return k.after(a||f.global,d,j,!0);"string"==typeof d&&"on"==d.substring(0,2)&&(d=d.substring(2));if(!a)a=f.global;if(!l)switch(d){case "keypress":d=m;break;case "mouseenter":d=b.enter;break;case "mouseleave":d=b.leave}return g(a,d,j,l)}function a(a){a.keyChar=a.charCode?String.fromCharCode(a.charCode):"";a.charOrCode=a.keyChar||a.keyCode}d.add("events-keypress-typed",function(){var a={charCode:0};try{a=document.createEvent("KeyboardEvent"),(a.initKeyboardEvent||a.initKeyEvent).call(a,
"keypress",!0,!0,null,!1,!1,!1,!1,9,3)}catch(b){}return 0==a.charCode&&!d("opera")});var l={106:42,111:47,186:59,187:43,188:44,189:45,190:46,191:47,192:96,219:91,220:92,221:93,222:39,229:113},j=d("mac")?"metaKey":"ctrlKey",o=function(b,d){var e=c.mixin({},b,d);a(e);e.preventDefault=function(){b.preventDefault()};e.stopPropagation=function(){b.stopPropagation()};return e},m;m=d("events-keypress-typed")?function(a,b){var c=g(a,"keydown",function(a){var c=a.keyCode,e=13!=c&&32!=c&&(27!=c||!d("ie"))&&
(48>c||90<c)&&(96>c||111<c)&&(186>c||192<c)&&(219>c||222<c)&&229!=c;if(e||a.ctrlKey){e=e?0:c;if(a.ctrlKey){if(3==c||13==c)return b.call(a.currentTarget,a);e=95<e&&106>e?e-48:!a.shiftKey&&65<=e&&90>=e?e+32:l[e]||e}c=o(a,{type:"keypress",faux:!0,charCode:e});b.call(a.currentTarget,c);if(d("ie"))try{a.keyCode=c.keyCode}catch(j){}}}),e=g(a,"keypress",function(a){var c=a.charCode,a=o(a,{charCode:32<=c?c:0,faux:!0});return b.call(this,a)});return{remove:function(){c.remove();e.remove()}}}:d("opera")?function(a,
b){return g(a,"keypress",function(a){var c=a.which;3==c&&(c=99);c=32>c&&!a.shiftKey?0:c;a.ctrlKey&&!a.shiftKey&&65<=c&&90>=c&&(c+=32);return b.call(this,o(a,{charCode:c}))})}:function(b,c){return g(b,"keypress",function(b){a(b);return c.call(this,b)})};var n={_keypress:m,connect:function(a,b,c,d,j){var f=arguments,l=[],h=0;l.push("string"==typeof f[0]?null:f[h++],f[h++]);var g=f[h+1];l.push("string"==typeof g||"function"==typeof g?f[h++]:null,f[h++]);for(g=f.length;h<g;h++)l.push(f[h]);return e.apply(this,
l)},disconnect:function(a){a&&a.remove()},subscribe:function(a,b,d){return i.subscribe(a,c.hitch(b,d))},publish:function(a,b){return i.publish.apply(i,[a].concat(b))},connectPublisher:function(a,b,c){var d=function(){n.publish(a,arguments)};return c?n.connect(b,c,d):n.connect(b,d)},isCopyKey:function(a){return a[j]}};n.unsubscribe=n.disconnect;c.mixin(f,n);return n})},"dojo/on":function(){define("dojo/on",["./has!dom-addeventlistener?:./aspect","./_base/kernel","./has"],function(f,g,i){function k(a,
b,d,e,j){if(e=b.match(/(.*):(.*)/))return b=e[2],e=e[1],c.selector(e,b).call(j,a,d);o&&(d=o(d));if(a.addEventListener){var f=b in l,h=f?l[b]:b;a.addEventListener(h,d,f);return{remove:function(){a.removeEventListener(h,d,f)}}}if(r&&a.attachEvent)return r(a,"on"+b,d);throw Error("Target must be an event emitter");}function h(){this.cancelable=!1}function b(){this.bubbles=!1}var d=window.ScriptEngineMajorVersion;i.add("jscript",d&&d()+ScriptEngineMinorVersion()/10);i.add("event-orientationchange",0);
i.add("event-stopimmediatepropagation",window.Event&&!!window.Event.prototype&&!!window.Event.prototype.stopImmediatePropagation);var c=function(a,b,d,e){return"function"==typeof a.on&&"function"!=typeof b?a.on(b,d):c.parse(a,b,d,k,e,this)};c.pausable=function(a,b,d,e){var j,a=c(a,b,function(){if(!j)return d.apply(this,arguments)},e);a.pause=function(){j=!0};a.resume=function(){j=!1};return a};c.once=function(a,b,d){var e=c(a,b,function(){e.remove();return d.apply(this,arguments)});return e};c.parse=
function(a,b,c,d,e,j){if(b.call)return b.call(j,a,c);if(-1<b.indexOf(",")){for(var b=b.split(/\s*,\s*/),f=[],l=0,h;h=b[l++];)f.push(d(a,h,c,e,j));f.remove=function(){for(var a=0;a<f.length;a++)f[a].remove()};return f}return d(a,b,c,e,j)};c.selector=function(a,b,d){return function(e,j){function f(b){for(l=l&&l.matches?l:g.query;!l.matches(b,a,e);)if(b==e||!1===d||!(b=b.parentNode)||1!=b.nodeType)return;return b}var l="function"==typeof a?{matches:a}:this,h=b.bubble;return h?c(e,h(f),j):c(e,b,function(a){var b=
f(a.target);return b&&j.call(b,a)})}};var e=[].slice,a=c.emit=function(a,c,d){var j=e.call(arguments,2),f="on"+c;if("parentNode"in a){var l=j[0]={},g;for(g in d)l[g]=d[g];l.preventDefault=h;l.stopPropagation=b;l.target=a;l.type=c;d=l}do a[f]&&a[f].apply(a,j);while(d&&d.bubbles&&(a=a.parentNode));return d&&d.cancelable&&d},l={};if(!i("event-stopimmediatepropagation"))var j=function(){this.modified=this.immediatelyStopped=!0},o=function(a){return function(b){if(!b.immediatelyStopped)return b.stopImmediatePropagation=
j,a.apply(this,arguments)}};if(i("dom-addeventlistener"))l={focusin:"focus",focusout:"blur"},c.emit=function(b,d,e){if(b.dispatchEvent&&document.createEvent){var j=b.ownerDocument.createEvent("HTMLEvents");j.initEvent(d,!!e.bubbles,!!e.cancelable);for(var f in e)f in j||(j[f]=e[f]);return b.dispatchEvent(j)&&j}return a.apply(c,arguments)};else{c._fixEvent=function(a,b){if(!a)a=(b&&(b.ownerDocument||b.document||b).parentWindow||window).event;if(!a)return a;m&&a.type==m.type&&(a=m);if(!a.target){a.target=
a.srcElement;a.currentTarget=b||a.srcElement;if("mouseover"==a.type)a.relatedTarget=a.fromElement;if("mouseout"==a.type)a.relatedTarget=a.toElement;if(!a.stopPropagation)a.stopPropagation=y,a.preventDefault=G;switch(a.type){case "keypress":var c="charCode"in a?a.charCode:a.keyCode;10==c?(c=0,a.keyCode=13):13==c||27==c?c=0:3==c&&(c=99);a.charCode=c;c=a;c.keyChar=c.charCode?String.fromCharCode(c.charCode):"";c.charOrCode=c.keyChar||c.keyCode}}return a};var m,n=function(a){this.handle=a};n.prototype.remove=
function(){delete _dojoIEListeners_[this.handle]};var p=function(a){return function(b){var b=c._fixEvent(b,this),d=a.call(this,b);b.modified&&(m||setTimeout(function(){m=null}),m=b);return d}},r=function(a,b,c){c=p(c);if(((a.ownerDocument?a.ownerDocument.parentWindow:a.parentWindow||a.window||window)!=top||5.8>i("jscript"))&&!i("config-_allow_leaks")){"undefined"==typeof _dojoIEListeners_&&(_dojoIEListeners_=[]);var d=a[b];if(!d||!d.listeners){var e=d,d=Function("event","var callee = arguments.callee; for(var i = 0; i<callee.listeners.length; i++){var listener = _dojoIEListeners_[callee.listeners[i]]; if(listener){listener.call(this,event);}}");
d.listeners=[];a[b]=d;d.global=this;e&&d.listeners.push(_dojoIEListeners_.push(e)-1)}d.listeners.push(a=d.global._dojoIEListeners_.push(c)-1);return new n(a)}return f.after(a,b,c,!0)},y=function(){this.cancelBubble=!0},G=c._preventDefault=function(){this.bubbledKeyCode=this.keyCode;if(this.ctrlKey)try{this.keyCode=0}catch(a){}this.defaultPrevented=!0;this.returnValue=!1}}return c})},"dojo/topic":function(){define("dojo/topic",["./Evented"],function(f){var g=new f;return{publish:function(f,k){return g.emit.apply(g,
arguments)},subscribe:function(f,k){return g.on.apply(g,arguments)}}})},"dojo/Evented":function(){define("dojo/Evented",["./aspect","./on"],function(f,g){function i(){}var k=f.after;i.prototype={on:function(f,b){return g.parse(this,f,b,function(d,c){return k(d,"on"+c,b,!0)})},emit:function(f,b){var d=[this];d.push.apply(d,arguments);return g.emit.apply(g,d)}};return i})},"dojo/aspect":function(){define("dojo/aspect",[],function(){function f(b,d,a,f){var j=b[d],h="around"==d,g;if(h){var i=a(function(){return j.advice(this,
arguments)});g={remove:function(){g.cancelled=!0},advice:function(a,b){return g.cancelled?j.advice(a,b):i.apply(a,b)}}}else g={remove:function(){var a=g.previous,j=g.next;if(!j&&!a)delete b[d];else if(a?a.next=j:b[d]=j,j)j.previous=a},id:k++,advice:a,receiveArguments:f};if(j&&!h)if("after"==d){for(;j.next&&(j=j.next););j.next=g;g.previous=j}else{if("before"==d)b[d]=g,g.next=j,j.previous=g}else b[d]=g;return g}function g(b){return function(d,a,l,j){var h=d[a],g;if(!h||h.target!=d){d[a]=g=function(){for(var a=
k,b=arguments,c=g.before;c;)b=c.advice.apply(this,b)||b,c=c.next;if(g.around)var d=g.around.advice(this,b);for(c=g.after;c&&c.id<a;){if(c.receiveArguments)var e=c.advice.apply(this,b),d=e===i?d:e;else d=c.advice.call(this,d,b);c=c.next}return d};if(h)g.around={advice:function(a,b){return h.apply(a,b)}};g.target=d}d=f(g||h,b,l,j);l=null;return d}}var i,k=0,h=g("after"),b=g("before"),d=g("around");return{before:b,around:d,after:h}})},"dojo/_base/event":function(){define("dojo/_base/event",["./kernel",
"../on","../has","../dom-geometry"],function(f,g,i,k){if(g._fixEvent){var h=g._fixEvent;g._fixEvent=function(b,c){(b=h(b,c))&&k.normalizeEvent(b);return b}}var b={fix:function(b,c){return g._fixEvent?g._fixEvent(b,c):b},stop:function(b){i("dom-addeventlistener")||b&&b.preventDefault?(b.preventDefault(),b.stopPropagation()):(b=b||window.event,b.cancelBubble=!0,g._preventDefault.call(b))}};f.fixEvent=b.fix;f.stopEvent=b.stop;return b})},"dojo/dom-geometry":function(){define("dojo/dom-geometry",["./sniff",
"./_base/window","./dom","./dom-style"],function(f,g,i,k){function h(a,b,c,d,e,f){f=f||"px";a=a.style;if(!isNaN(b))a.left=b+f;if(!isNaN(c))a.top=c+f;if(0<=d)a.width=d+f;if(0<=e)a.height=e+f}function b(a){return"button"==a.tagName.toLowerCase()||"input"==a.tagName.toLowerCase()&&"button"==(a.getAttribute("type")||"").toLowerCase()}function d(a){return"border-box"==c.boxModel||"table"==a.tagName.toLowerCase()||b(a)}var c={boxModel:"content-box"};if(f("ie"))c.boxModel="BackCompat"==document.compatMode?
"border-box":"content-box";c.getPadExtents=function(a,b){var a=i.byId(a),c=b||k.getComputedStyle(a),d=k.toPixelValue,e=d(a,c.paddingLeft),f=d(a,c.paddingTop),h=d(a,c.paddingRight),c=d(a,c.paddingBottom);return{l:e,t:f,r:h,b:c,w:e+h,h:f+c}};c.getBorderExtents=function(a,b){var a=i.byId(a),c=k.toPixelValue,d=b||k.getComputedStyle(a),e="none"!=d.borderLeftStyle?c(a,d.borderLeftWidth):0,f="none"!=d.borderTopStyle?c(a,d.borderTopWidth):0,h="none"!=d.borderRightStyle?c(a,d.borderRightWidth):0,c="none"!=
d.borderBottomStyle?c(a,d.borderBottomWidth):0;return{l:e,t:f,r:h,b:c,w:e+h,h:f+c}};c.getPadBorderExtents=function(a,b){var a=i.byId(a),d=b||k.getComputedStyle(a),e=c.getPadExtents(a,d),d=c.getBorderExtents(a,d);return{l:e.l+d.l,t:e.t+d.t,r:e.r+d.r,b:e.b+d.b,w:e.w+d.w,h:e.h+d.h}};c.getMarginExtents=function(a,b){var a=i.byId(a),c=b||k.getComputedStyle(a),d=k.toPixelValue,e=d(a,c.marginLeft),f=d(a,c.marginTop),h=d(a,c.marginRight),c=d(a,c.marginBottom);return{l:e,t:f,r:h,b:c,w:e+h,h:f+c}};c.getMarginBox=
function(a,b){var a=i.byId(a),d=b||k.getComputedStyle(a),e=c.getMarginExtents(a,d),h=a.offsetLeft-e.l,g=a.offsetTop-e.t,p=a.parentNode,r=k.toPixelValue;if(f("mozilla")){var y=parseFloat(d.left),d=parseFloat(d.top);!isNaN(y)&&!isNaN(d)?(h=y,g=d):p&&p.style&&(p=k.getComputedStyle(p),"visible"!=p.overflow&&(h+="none"!=p.borderLeftStyle?r(a,p.borderLeftWidth):0,g+="none"!=p.borderTopStyle?r(a,p.borderTopWidth):0))}else if((f("opera")||8==f("ie")&&!f("quirks"))&&p)p=k.getComputedStyle(p),h-="none"!=p.borderLeftStyle?
r(a,p.borderLeftWidth):0,g-="none"!=p.borderTopStyle?r(a,p.borderTopWidth):0;return{l:h,t:g,w:a.offsetWidth+e.w,h:a.offsetHeight+e.h}};c.getContentBox=function(a,b){var a=i.byId(a),d=b||k.getComputedStyle(a),e=a.clientWidth,h=c.getPadExtents(a,d),g=c.getBorderExtents(a,d);e?(d=a.clientHeight,g.w=g.h=0):(e=a.offsetWidth,d=a.offsetHeight);f("opera")&&(h.l+=g.l,h.t+=g.t);return{l:h.l,t:h.t,w:e-h.w-g.w,h:d-h.h-g.h}};c.setContentSize=function(a,b,e){var a=i.byId(a),f=b.w,b=b.h;d(a)&&(e=c.getPadBorderExtents(a,
e),0<=f&&(f+=e.w),0<=b&&(b+=e.h));h(a,NaN,NaN,f,b)};var e={l:0,t:0,w:0,h:0};c.setMarginBox=function(a,g,j){var a=i.byId(a),o=j||k.getComputedStyle(a),j=g.w,m=g.h,n=d(a)?e:c.getPadBorderExtents(a,o),o=c.getMarginExtents(a,o);if(f("webkit")&&b(a)){var p=a.style;if(0<=j&&!p.width)p.width="4px";if(0<=m&&!p.height)p.height="4px"}0<=j&&(j=Math.max(j-n.w-o.w,0));0<=m&&(m=Math.max(m-n.h-o.h,0));h(a,g.l,g.t,j,m)};c.isBodyLtr=function(a){a=a||g.doc;return"ltr"==(g.body(a).dir||a.documentElement.dir||"ltr").toLowerCase()};
c.docScroll=function(a){var a=a||g.doc,b=g.doc.parentWindow||g.doc.defaultView;return"pageXOffset"in b?{x:b.pageXOffset,y:b.pageYOffset}:(b=f("quirks")?g.body(a):a.documentElement)&&{x:c.fixIeBiDiScrollLeft(b.scrollLeft||0,a),y:b.scrollTop||0}};if(f("ie"))c.getIeDocumentElementOffset=function(a){a=a||g.doc;a=a.documentElement;if(8>f("ie")){var b=a.getBoundingClientRect(),c=b.left,b=b.top;7>f("ie")&&(c+=a.clientLeft,b+=a.clientTop);return{x:0>c?0:c,y:0>b?0:b}}return{x:0,y:0}};c.fixIeBiDiScrollLeft=
function(a,b){var b=b||g.doc,d=f("ie");if(d&&!c.isBodyLtr(b)){var e=f("quirks"),h=e?g.body(b):b.documentElement,k=g.global;6==d&&!e&&k.frameElement&&h.scrollHeight>h.clientHeight&&(a+=h.clientLeft);return 8>d||e?a+h.clientWidth-h.scrollWidth:-a}return a};c.position=function(a,b){var a=i.byId(a),d=g.body(a.ownerDocument),e=a.getBoundingClientRect(),e={x:e.left,y:e.top,w:e.right-e.left,h:e.bottom-e.top};if(9>f("ie")){var h=c.getIeDocumentElementOffset(a.ownerDocument);e.x-=h.x+(f("quirks")?d.clientLeft+
d.offsetLeft:0);e.y-=h.y+(f("quirks")?d.clientTop+d.offsetTop:0)}b&&(d=c.docScroll(a.ownerDocument),e.x+=d.x,e.y+=d.y);return e};c.getMarginSize=function(a,b){var a=i.byId(a),d=c.getMarginExtents(a,b||k.getComputedStyle(a)),e=a.getBoundingClientRect();return{w:e.right-e.left+d.w,h:e.bottom-e.top+d.h}};c.normalizeEvent=function(a){if(!("layerX"in a))a.layerX=a.offsetX,a.layerY=a.offsetY;if(!f("dom-addeventlistener")){var b=a.target,b=b&&b.ownerDocument||document,d=f("quirks")?b.body:b.documentElement,
e=c.getIeDocumentElementOffset(b);a.pageX=a.clientX+c.fixIeBiDiScrollLeft(d.scrollLeft||0,b)-e.x;a.pageY=a.clientY+(d.scrollTop||0)-e.y}};return c})},"dojo/mouse":function(){define("dojo/mouse",["./_base/kernel","./on","./has","./dom","./_base/window"],function(f,g,i,k,h){function b(d,c){var e=function(a,b){return g(a,d,function(d){if(c)return c(d,b);if(!k.isDescendant(d.relatedTarget,a))return b.call(this,d)})};e.bubble=function(a){return b(d,function(b,d){var c=a(b.target),e=b.relatedTarget;if(c&&
c!=(e&&1==e.nodeType&&a(e)))return d.call(c,b)})};return e}i.add("dom-quirks",h.doc&&"BackCompat"==h.doc.compatMode);i.add("events-mouseenter",h.doc&&"onmouseenter"in h.doc.createElement("div"));i.add("events-mousewheel",h.doc&&"onmousewheel"in h.doc);h=i("dom-quirks")&&i("ie")||!i("dom-addeventlistener")?{LEFT:1,MIDDLE:4,RIGHT:2,isButton:function(b,c){return b.button&c},isLeft:function(b){return b.button&1},isMiddle:function(b){return b.button&4},isRight:function(b){return b.button&2}}:{LEFT:0,MIDDLE:1,
RIGHT:2,isButton:function(b,c){return b.button==c},isLeft:function(b){return 0==b.button},isMiddle:function(b){return 1==b.button},isRight:function(b){return 2==b.button}};f.mouseButtons=h;f=i("events-mousewheel")?"mousewheel":function(b,c){return g(b,"DOMMouseScroll",function(b){b.wheelDelta=-b.detail;c.call(this,b)})};return{_eventHandler:b,enter:b("mouseover"),leave:b("mouseout"),wheel:f,isLeft:h.isLeft,isMiddle:h.isMiddle,isRight:h.isRight}})},"dojo/_base/sniff":function(){define("dojo/_base/sniff",
["./kernel","./lang","../sniff"],function(f,g,i){f._name="browser";g.mixin(f,{isBrowser:!0,isFF:i("ff"),isIE:i("ie"),isKhtml:i("khtml"),isWebKit:i("webkit"),isMozilla:i("mozilla"),isMoz:i("mozilla"),isOpera:i("opera"),isSafari:i("safari"),isChrome:i("chrome"),isMac:i("mac"),isIos:i("ios"),isAndroid:i("android"),isWii:i("wii"),isQuirks:i("quirks"),isAir:i("air")});f.locale=f.locale||(i("ie")?navigator.userLanguage:navigator.language).toLowerCase();return i})},"dojo/keys":function(){define("dojo/keys",
["./_base/kernel","./sniff"],function(f,g){return f.keys={BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,META:g("webkit")?91:224,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,HELP:47,LEFT_WINDOW:91,RIGHT_WINDOW:92,SELECT:93,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_PLUS:107,
NUMPAD_ENTER:108,NUMPAD_MINUS:109,NUMPAD_PERIOD:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,NUM_LOCK:144,SCROLL_LOCK:145,UP_DPAD:175,DOWN_DPAD:176,LEFT_DPAD:177,RIGHT_DPAD:178,copyKey:g("mac")&&!g("air")?g("safari")?91:224:17}})},"js/DataIndicator":function(){define("js/DataIndicator","dojo/_base/declare,dojo/_base/lang,dojo/dom,dojox/lang/functional,dojo/_base/Color,dojo/has,esri/layers/GraphicsLayer,esri/graphic,esri/symbols/SimpleMarkerSymbol,esri/symbols/SimpleFillSymbol,esri/symbols/SimpleLineSymbol,esri/geometry/Point,esri/geometry/Polygon,esri/geometry/webMercatorUtils,dojo/_base/sniff".split(","),
function(f,g,i,k,h,b,d,c,e,a,l,j,o,m){var n=function(a){return{country:a.country,url:a.url,value:a.value,proj_cnt:a.proj_cnt}},p=function(){var a=i.byId(this._map.id+"_legend"),b=this.data_config.colors.length;for(a.innerHTML="";b--;){var c="",c=0===b?0===this.data_config.min?1:this.data_config.min:this.data_config.ranges[b-1]+(0===this.data_config.min?1:this.data_config.min);a.innerHTML+="<div title='"+cesri_api.round(c,this.data_config.accuracy)+" - "+this.data_config.ranges[b]+"' style='z-index: 200; cursor: pointer; float: right; background:"+
this.data_config.colors[b].toHex()+"; width: 30px; height: 14px;'></div>"}a.style.width=30*this.data_config.colors.length+(cesri_api.isInQuirksMode()?16:0)+"px";a.style.display="block"},r=function(){this.clear();var b=new h(this.data_config.graphic.color);k.reduce([b.r,b.g,b.b],"Math.max(a, b)");var d,f,i,s,w;this.data_config.symbols=[];this.data_config.graphic.border=new l(l.STYLE_SOLID,new h(this.data_config.graphic.border_color),this.data_config.graphic.border_size);for(w=this.data_config.brackets;w--;)d=
(this.data_config.brackets-w)*this.data_config.graphic.gradient_step,f=255<b.r+d?255:b.r+d,i=255<b.g+d?255:b.g+d,s=255<b.b+d?255:b.b+d,"heat"===this.data_config.type?(this.data_config.colors[w]=new h([f,i,s,this.data_config.heat.opacity]),this.data_config.symbols[w]=new a(a.STYLE_SOLID,new l(l.STYLE_NULL),this.data_config.colors[w])):"clusters"===this.data_config.type&&(this.data_config.colors[w]=new h([f,i,s,this.data_config.cluster.opacity]),this.data_config.symbols[w]=new e(this.data_config.graphic.symbol,
this.data_config.cluster.min_size+w*this.data_config.cluster.multiplier,this.data_config.graphic.border,this.data_config.colors[w]));for(w=this.data.length;w--;)for(d=this.data_config.ranges.length,b=0;b<d;b++)if(parseFloat(this.data[w][this.data_config.data_selector])<=this.data_config.ranges[b])if("clusters"===this.data_config.type){this.add(new c(m.geographicToWebMercator(new j(this.data[w].country.lon,this.data[w].country.lat,cesri_api.spatialReference)),this.data_config.symbols[b],n(this.data[w])));
break}else if("heat"===this.data_config.type){d=new o(cesri_api.geometries[this.data[w].country.id]);d.setSpatialReference(cesri_api.spatialReference);this.add(new c(d,this.data_config.symbols[b],n(this.data[w])));break}this.data_config.legend&&g.hitch(this,p)();this._map.reposition()};return f("",d,{constructor:function(a){if(!a.omap||!a.omap.map)return null;a.omap.map.addLayer(this);this.infoWindow=this._map.infoWindow.domNode;this.data=null;this.data_config={legend:!0,min:0,max:0,accuracy:2,brackets:5,
colors:[],ranges:[],type:"clusters",data_selector:"value",graphic:{color:"#386e37",border_color:"#e6e6e6",border_size:1.5,gradient_step:16,symbol:e.STYLE_CIRCLE},heat:{opacity:0.8},cluster:{opacity:1,min_size:14,multiplier:6},info_window:{header:"{country.value}",body:"<strong>{value}</strong>",footer:"",width:280},url_new_tab:!0};this.load(a);this._map.centerAt(this._map.extent.getCenter());if(!a.omap.lock)(this.f_onmouseover_connect=g.hitch(this,function(){var a=this.on("mouse-over",g.hitch(this,
function(c){b("ie")&&a.remove();var d=c.graphic;"clusters"===this.data_config.type?d.getDojoShape().moveToFront():"heat"===this.data_config.type&&d.getDojoShape().setStroke({color:{r:60,g:60,b:60,a:1}});this.infoWindow.innerHTML=g.hitch(this,cesri_api.init_info_window)(c.screenPoint,d.attributes)}))}))(),this.on("mouse-out",g.hitch(this,function(a){g.hitch(this,cesri_api.clear_info_window)();"heat"===this.data_config.type&&a.graphic.getDojoShape().setStroke({color:{a:0}})})),this.on("mouse-move",
g.hitch(this,function(a){""!==this.infoWindow.innerHTML&&g.hitch(this,cesri_api.show_info_window)(a.screenPoint)})),this.on("click",g.hitch(this,function(b){b=b.graphic;g.hitch(this,cesri_api.clear_info_window)();if(b.attributes.url)!1===a.url_new_tab?window.location.href=b.attributes.url:window.open(b.attributes.url)}))},load:function(a){if(a){this.data_config=cesri_api.updateWithObject(this.data_config,a);if(a.data&&a.data.length){this.data=a.data;this.data_per_country={};for(a=this.data.length;a--;){var b=
parseFloat(this.data[a][this.data_config.data_selector]);if(b)this.data_config.max=Math.max(this.data_config.max,b)}this.data_config.accuracy=0===this.data_config.max-Math.floor(this.data_config.max)?0:this.data_config.accuracy;this.data_config.max=cesri_api.round(this.data_config.max,this.data_config.accuracy);this.data_config.min=0===this.data_config.max?0:0===this.data_config.accuracy?0:1/Math.pow(10,this.data_config.accuracy);if(0===this.data_config.ranges.length)for(a=0;a<this.data_config.brackets;a++)this.data_config.ranges[a]=
cesri_api.round(this.data_config.min+(this.data_config.max-this.data_config.min)/this.data_config.brackets*(a+1),this.data_config.accuracy);else if(this.data_config.ranges.slice(-1)[0]<this.data_config.max)this.data_config.brackets=this.data_config.ranges.length+1,this.data_config.ranges.push(this.data_config.max);else for(a=0;a<this.data_config.ranges.length;a++)if(this.data_config.ranges[a]>this.data_config.max){this.data_config.ranges.length=a;this.data_config.brackets=a+1;this.data_config.ranges.push(this.data_config.max);
break}}this.data&&g.hitch(this,r)()}}})})},"dojox/lang/functional":function(){define("dojox/lang/functional",["./functional/lambda","./functional/array","./functional/object"],function(f){return f})},"dojox/lang/functional/lambda":function(){define("dojox/lang/functional/lambda",["../..","dojo/_base/kernel","dojo/_base/lang","dojo/_base/array"],function(f,g,i,k){var h=i.getObject("lang.functional",!0,f),b={},d=1<"ab".split(/a*/).length?String.prototype.split:function(a){var b=this.split.call(this,
a);(a=a.exec(this))&&0==a.index&&b.unshift("");return b},c=function(a){var b=[],c=d.call(a,/\s*->\s*/m);if(1<c.length)for(;c.length;)a=c.pop(),b=c.pop().split(/\s*,\s*|\s+/m),c.length&&c.push("(function("+b+"){return ("+a+")})");else if(a.match(/\b_\b/))b=["_"];else{var c=a.match(/^\s*(?:[+*\/%&|\^\.=<>]|!=)/m),e=a.match(/[+\-*\/%&|\^\.=<>!]\s*$/m);if(c||e)c&&(b.push("$1"),a="$1"+a),e&&(b.push("$2"),a+="$2");else{var c=a.replace(/(?:\b[A-Z]|\.[a-zA-Z_$])[a-zA-Z_$\d]*|[a-zA-Z_$][a-zA-Z_$\d]*:|this|true|false|null|undefined|typeof|instanceof|in|delete|new|void|arguments|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|escape|eval|isFinite|isNaN|parseFloat|parseInt|unescape|dojo|dijit|dojox|window|document|'(?:[^'\\]|\\.)*'|"(?:[^"\\]|\\.)*"/g,
"").match(/([a-z_$][a-z_$\d]*)/gi)||[],f={};k.forEach(c,function(a){a in f||(b.push(a),f[a]=1)})}}return{args:b,body:a}},e=function(a){return a.length?function(){var b=a.length-1,c=h.lambda(a[b]).apply(this,arguments);for(--b;0<=b;--b)c=h.lambda(a[b]).call(this,c);return c}:function(a){return a}};i.mixin(h,{rawLambda:function(a){return c(a)},buildLambda:function(a){a=c(a);return"function("+a.args.join(",")+"){return ("+a.body+");}"},lambda:function(a){if("function"==typeof a)return a;if(a instanceof
Array)return e(a);if(a in b)return b[a];a=c(a);return b[a]=new Function(a.args,"return ("+a.body+");")},clearLambdaCache:function(){b={}}});return h})},"dojox/main":function(){define("dojox/main",["dojo/_base/kernel"],function(f){return f.dojox})},"dojo/_base/array":function(){define("dojo/_base/array",["./kernel","../has","./lang"],function(f,g,i){function k(a){return d[a]=new Function("item","index","array",a)}function h(a){var b=!a;return function(c,e,f){var h=0,g=c&&c.length||0,i;g&&"string"==
typeof c&&(c=c.split(""));"string"==typeof e&&(e=d[e]||k(e));if(f)for(;h<g;++h){if(i=!e.call(f,c[h],h,c),a^i)return!i}else for(;h<g;++h)if(i=!e(c[h],h,c),a^i)return!i;return b}}function b(a){var b=1,d=0,f=0;a||(b=d=f=-1);return function(h,g,i,k){if(k&&0<b)return e.lastIndexOf(h,g,i);var k=h&&h.length||0,y=a?k+f:d;i===c?i=a?d:k+f:0>i?(i=k+i,0>i&&(i=d)):i=i>=k?k+f:i;for(k&&"string"==typeof h&&(h=h.split(""));i!=y;i+=b)if(h[i]==g)return i;return-1}}var d={},c,e={every:h(!1),some:h(!0),indexOf:b(!0),
lastIndexOf:b(!1),forEach:function(a,b,c){var e=0,f=a&&a.length||0;f&&"string"==typeof a&&(a=a.split(""));"string"==typeof b&&(b=d[b]||k(b));if(c)for(;e<f;++e)b.call(c,a[e],e,a);else for(;e<f;++e)b(a[e],e,a)},map:function(a,b,c,e){var f=0,h=a&&a.length||0,e=new (e||Array)(h);h&&"string"==typeof a&&(a=a.split(""));"string"==typeof b&&(b=d[b]||k(b));if(c)for(;f<h;++f)e[f]=b.call(c,a[f],f,a);else for(;f<h;++f)e[f]=b(a[f],f,a);return e},filter:function(a,b,c){var e=0,f=a&&a.length||0,h=[],g;f&&"string"==
typeof a&&(a=a.split(""));"string"==typeof b&&(b=d[b]||k(b));if(c)for(;e<f;++e)g=a[e],b.call(c,g,e,a)&&h.push(g);else for(;e<f;++e)g=a[e],b(g,e,a)&&h.push(g);return h},clearCache:function(){d={}}};i.mixin(f,e);return e})},"dojox/lang/functional/array":function(){define("dojox/lang/functional/array",["dojo/_base/kernel","dojo/_base/lang","dojo/_base/array","./lambda"],function(f,g,i,k){var h={};g.mixin(k,{filter:function(b,d,c){"string"==typeof b&&(b=b.split(""));var c=c||f.global,d=k.lambda(d),e=
[],a,i,j;if(g.isArray(b))for(i=0,j=b.length;i<j;++i)a=b[i],d.call(c,a,i,b)&&e.push(a);else if("function"==typeof b.hasNext&&"function"==typeof b.next)for(i=0;b.hasNext();)a=b.next(),d.call(c,a,i++,b)&&e.push(a);else for(i in b)i in h||(a=b[i],d.call(c,a,i,b)&&e.push(a));return e},forEach:function(b,d,c){"string"==typeof b&&(b=b.split(""));var c=c||f.global,d=k.lambda(d),e,a;if(g.isArray(b))for(e=0,a=b.length;e<a;d.call(c,b[e],e,b),++e);else if("function"==typeof b.hasNext&&"function"==typeof b.next)for(e=
0;b.hasNext();d.call(c,b.next(),e++,b));else for(e in b)e in h||d.call(c,b[e],e,b);return c},map:function(b,d,c){"string"==typeof b&&(b=b.split(""));var c=c||f.global,d=k.lambda(d),e,a,i;if(g.isArray(b)){e=Array(a=b.length);for(i=0;i<a;e[i]=d.call(c,b[i],i,b),++i);}else if("function"==typeof b.hasNext&&"function"==typeof b.next){e=[];for(i=0;b.hasNext();e.push(d.call(c,b.next(),i++,b)));}else for(i in e=[],b)i in h||e.push(d.call(c,b[i],i,b));return e},every:function(b,d,c){"string"==typeof b&&(b=
b.split(""));var c=c||f.global,d=k.lambda(d),e,a;if(g.isArray(b))for(e=0,a=b.length;e<a;++e){if(!d.call(c,b[e],e,b))return!1}else if("function"==typeof b.hasNext&&"function"==typeof b.next)for(e=0;b.hasNext();){if(!d.call(c,b.next(),e++,b))return!1}else for(e in b)if(!(e in h)&&!d.call(c,b[e],e,b))return!1;return!0},some:function(b,d,c){"string"==typeof b&&(b=b.split(""));var c=c||f.global,d=k.lambda(d),e,a;if(g.isArray(b))for(e=0,a=b.length;e<a;++e){if(d.call(c,b[e],e,b))return!0}else if("function"==
typeof b.hasNext&&"function"==typeof b.next)for(e=0;b.hasNext();){if(d.call(c,b.next(),e++,b))return!0}else for(e in b)if(!(e in h)&&d.call(c,b[e],e,b))return!0;return!1}});return k})},"dojox/lang/functional/object":function(){define("dojox/lang/functional/object",["dojo/_base/kernel","dojo/_base/lang","./lambda"],function(f,g,i){var k={};g.mixin(i,{keys:function(f){var b=[],d;for(d in f)d in k||b.push(d);return b},values:function(f){var b=[],d;for(d in f)d in k||b.push(f[d]);return b},filterIn:function(h,
b,d){var d=d||f.global,b=i.lambda(b),c={},e,a;for(a in h)a in k||(e=h[a],b.call(d,e,a,h)&&(c[a]=e));return c},forIn:function(h,b,d){var d=d||f.global,b=i.lambda(b),c;for(c in h)c in k||b.call(d,h[c],c,h);return d},mapIn:function(h,b,d){var d=d||f.global,b=i.lambda(b),c={},e;for(e in h)e in k||(c[e]=b.call(d,h[e],e,h));return c}});return i})},"dojo/_base/Color":function(){define("dojo/_base/Color",["./kernel","./lang","./array","./config"],function(f,g,i,k){var h=f.Color=function(b){b&&this.setColor(b)};
h.named={black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,0,128],fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255],transparent:k.transparentColor||[0,0,0,0]};g.extend(h,{r:255,g:255,b:255,a:1,_set:function(b,d,c,e){this.r=b;this.g=d;this.b=c;this.a=e},setColor:function(b){g.isString(b)?h.fromString(b,this):g.isArray(b)?h.fromArray(b,
this):(this._set(b.r,b.g,b.b,b.a),b instanceof h||this.sanitize());return this},sanitize:function(){return this},toRgb:function(){return[this.r,this.g,this.b]},toRgba:function(){return[this.r,this.g,this.b,this.a]},toHex:function(){return"#"+i.map(["r","g","b"],function(b){b=this[b].toString(16);return 2>b.length?"0"+b:b},this).join("")},toCss:function(b){var d=this.r+", "+this.g+", "+this.b;return(b?"rgba("+d+", "+this.a:"rgb("+d)+")"},toString:function(){return this.toCss(!0)}});h.blendColors=f.blendColors=
function(b,d,c,e){var a=e||new h;i.forEach(["r","g","b","a"],function(e){a[e]=b[e]+(d[e]-b[e])*c;"a"!=e&&(a[e]=Math.round(a[e]))});return a.sanitize()};h.fromRgb=f.colorFromRgb=function(b,d){var c=b.toLowerCase().match(/^rgba?\(([\s\.,0-9]+)\)/);return c&&h.fromArray(c[1].split(/\s*,\s*/),d)};h.fromHex=f.colorFromHex=function(b,d){var c=d||new h,e=4==b.length?4:8,a=(1<<e)-1,b=Number("0x"+b.substr(1));if(isNaN(b))return null;i.forEach(["b","g","r"],function(d){var f=b&a;b>>=e;c[d]=4==e?17*f:f});c.a=
1;return c};h.fromArray=f.colorFromArray=function(b,d){var c=d||new h;c._set(Number(b[0]),Number(b[1]),Number(b[2]),Number(b[3]));if(isNaN(c.a))c.a=1;return c.sanitize()};h.fromString=f.colorFromString=function(b,d){var c=h.named[b];return c&&h.fromArray(c,d)||h.fromRgb(b,d)||h.fromHex(b,d)};return h})},"js/ProjectsLocations":function(){define("dojo/_base/declare,dojo/_base/lang,dojo/has,dojox/html/entities,dojox/lang/functional,dojo/_base/Color,esri/layers/GraphicsLayer,esri/graphic,esri/symbols/SimpleMarkerSymbol,esri/symbols/TextSymbol,esri/symbols/Font,esri/symbols/SimpleLineSymbol,esri/symbols/PictureMarkerSymbol,esri/geometry/Point,esri/geometry/Multipoint,esri/geometry/webMercatorUtils,dojox/lang/functional/fold,dojo/_base/sniff".split(","),
function(f,g,i,k,h,b,d,c,e,a,l,j,o,m,n,p){var r=function(a){var b=this.data_config.info_window.abstract_max_size;return g.mixin(a,{project_abstract:a.project_abstract?k.decode(a.project_abstract.cdata.substr(0,0===b?a.project_abstract.cdata.length:b),[["&","amp"],["'","apos"]])+(0===b||b>a.project_abstract.cdata.length?"":"..."):""})},y=function(a){var b=a.attributes.sector[0].code.toUpperCase();this.data_config.major_sectors[b]||(b="NA");this.add(new c(a.attributes.point,o(cesri_api._base+"/images/"+
this.data_config.major_sectors[b].img,20,20),a.attributes))},G=function(a,b,c){if(0!==a.points.length){var a=a.getExtent(),d=this._map._fixExtent(a,!0).lod.level;if(b&&0!==this.data_config.init_zoom)d=this.data_config.init_zoom;if(b&&d===this._map.getLevel())this._map.centerAt(a.getCenter()).then(g.hitch(c,function(){c.initial_extent=c.map.geographicExtent})),g.hitch(this,B)();else{if(c)c.initial_extent=a;d===this._map.getLevel()&&d<this._map.getMaxZoom()&&d++;this._map.centerAndZoom(a.getCenter(),
d)}}},B=function(){var b,d;this.clear();if(this._map.getLevel()===this._map.getMaxZoom()){var f;for(b in this.data_per_country){f=this.data_per_country[b];for(d=f.length;d--;)g.hitch(this,y)(f[d])}}else{f=this._map.getLevel();var i=this._map.__tileInfo,j=i.lods[f].resolution,k=j*i.width,j=j*i.height,l=h.lambda("cPt, nextPt -> [(cPt[0] + nextPt[0]) / 2, (cPt[1] + nextPt[1]) / 2]");for(b in this.data_per_country){for(var n=h.map(this.data_per_country[b],g.partial(h.lambda("tileWidth, tileHeight, oPoint, point -> [Math.floor((oPoint.y - point[1]) / tileHeight), Math.floor((point[0] - oPoint.x) / tileWidth), point]"),
k,j,i.origin)),o=[],p,q,r=n.length,A,t,u;r--;)p=n[r],A=p[0],q=p[1],d=p[2],(p=o[A])?p[q]?p[q].push(d):p[q]=[d]:(p=o[A]=[],p[q]=[d]);for(n=o.length;n--;)if(A=o[n])for(r=A.length;r--;)if(q=A[r])if(p=q.length,30<p||3>f&&5<p||4==f&&8<p||5==f&&20<p){for(u=this.data_config.ranges.length,d=0;d<u;d++)if(p<=this.data_config.ranges[d]){t=this.data_config.min_size+d*this.data_config.multiplier;break}u=this.graphics.length;d=new m(h.reduce(q,l),cesri_api.spatialReference);this.add(new c(d,new e(e.STYLE_CIRCLE,
t,this.data_config.graphic.outer_border,this.data_config.graphic.graphic_color),g.mixin(h.map(q,function(a){return a.attributes}),{isCluster:!0,g_type:0,g_index:u})));this.add(new c(d,new e(e.STYLE_CIRCLE,t,this.data_config.graphic.border,this.data_config.graphic.graphic_color),{isCluster:!0,g_type:1,g_index:u+1}));this.add(new c(d,(new a(p,this.data_config.text,this.data_config.graphic.graphic_text_color)).setOffset(0,this.data_config.graphic.text_offset),{isCluster:!0,g_type:2,g_index:u+2}))}else for(d=
p;d--;)g.hitch(this,y)(q[d])}}this._map.reposition()};return f("",d,{constructor:function(a){if(!a.omap||!a.omap.map)return null;this.omap=a.omap;this.omap.map.addLayer(this);this.loaded=!1;this.infoWindow=this._map.infoWindow.domNode;this.data_per_country={};this.data_config={ranges:[10,100,500,1E3],min_size:24,multiplier:5,graphic:{color:"#359ef4",border_color:"#eeeeee",border_size:3,outer_border_size:5,text_color:"#ffffff",text_offset:7==i("ie")||8==i("ie")?-5:-4},info_window:{abstract_max_size:0,
header:"{id} - {project_name}",body:"{project_abstract}",footer:"",width:400},major_sectors:{AX:{img:"sectors/AX.png"},BX:{img:"sectors/BX.png"},CX:{img:"sectors/CX.png"},EX:{img:"sectors/EX.png"},FX:{img:"sectors/FX.png"},JX:{img:"sectors/JX.png"},LX:{img:"sectors/LX.png"},TX:{img:"sectors/TX.png"},WX:{img:"sectors/WX.png"},YX:{img:"sectors/YX.png"},NA:{img:"sectors/NA.png"}},url_new_tab:!0,init_zoom:0};this.load(a);this.omap.map.on("extent-change",g.hitch(this,function(a){a.levelChange&&g.hitch(this,
B)()}));if(!this.omap.lock)(this.f_onmouseover_connect=g.hitch(this,function(){var a=this.on("mouse-over",g.hitch(this,function(b){i("ie")&&a.remove();var c=b.graphic;"picturemarkersymbol"!==c.symbol.type?(0==c.attributes.g_type&&(c.getDojoShape().moveToFront(),this.graphics[c.attributes.g_index+1].getDojoShape().moveToFront(),this.graphics[c.attributes.g_index+2].getDojoShape().moveToFront()),1==c.attributes.g_type&&(this.graphics[c.attributes.g_index-1].getDojoShape().moveToFront(),c.getDojoShape().moveToFront(),
this.graphics[c.attributes.g_index+1].getDojoShape().moveToFront(),c=this.graphics[c.attributes.g_index-1]),2==c.attributes.g_type&&(this.graphics[c.attributes.g_index-2].getDojoShape().moveToFront(),this.graphics[c.attributes.g_index-1].getDojoShape().moveToFront(),c.getDojoShape().moveToFront(),c=this.graphics[c.attributes.g_index-2])):c.getDojoShape().moveToFront();this.infoWindow.innerHTML=g.hitch(this,cesri_api.init_info_window)(b.screenPoint,c.attributes)}))}))(),this.on("mouse-out",g.hitch(this,
function(){g.hitch(this,cesri_api.clear_info_window)()})),this.on("mouse-move",g.hitch(this,function(a){!a.graphic.attributes.isCluster&&""!==this.infoWindow.innerHTML&&g.hitch(this,cesri_api.show_info_window)(a.screenPoint)})),this.on("click",g.hitch(this,function(b){b=b.graphic;g.hitch(this,cesri_api.clear_info_window)();1==b.attributes.g_type&&(b=this.graphics[b.attributes.g_index-1]);2==b.attributes.g_type&&(b=this.graphics[b.attributes.g_index-2]);if(b.attributes.isCluster){if(this.omap.enable_zoom){for(var c=
new n(cesri_api.spatialReference),d=b.attributes.length;d--;)c.addPoint(b.attributes[d].point);g.hitch(this,G)(c)}}else if(c="",b.attributes.url&&(c=b.attributes.url),b.attributes.location.url&&(c=b.attributes.location.url),""!==c)!1===a.url_new_tab?window.location.href=c:window.open(c)}));this.loaded=!0},load:function(a){if(a){this.data_config=cesri_api.updateWithObject(this.data_config,a);if(0!==this.data_config.init_zoom)this.data_config.init_zoom=this.data_config.init_zoom<this._map.min_zoom?
this._map.min_zoom:this.data_config.init_zoom,this.data_config.init_zoom=this.data_config.init_zoom>this._map.max_zoom?this._map.max_zoom:this.data_config.init_zoom;this.data_config.graphic.graphic_color=new b(this.data_config.graphic.color);this.data_config.graphic.border=new j(j.STYLE_SOLID,new b(this.data_config.graphic.border_color),this.data_config.graphic.border_size);this.data_config.graphic.outer_border=new j(j.STYLE_SOLID,this.data_config.graphic.graphic_color,this.data_config.graphic.outer_border_size+
this.data_config.graphic.border_size);this.data_config.text=new l("8pt",l.STYLE_NORMAL,l.VARIANT_NORMAL,l.WEIGHT_BOLD,"Arial");this.data_config.graphic.graphic_text_color=new b(this.data_config.graphic.text_color);if(a.data)if("undefined"===typeof a.data.projects)this.clear(),this._map.setLevel(this._map.getMinZoom());else{var c=new n(cesri_api.spatialReference),d,e,f,h,i,k,o=0;this.data_per_country={};for(d in a.data.projects){e=a.data.projects[d];g.hitch(this,r)(e);for(f=e.locations.length;f--;)h=
e.locations[f],i=e.countrycode,-180>h.longitude||180<h.longitude||-90>h.latitude||90<h.latitude||(k=p.geographicToWebMercator(new m(h,cesri_api.spatialReference)),c.addPoint(k),this.data_per_country[i]||(this.data_per_country[i]=[]),this.data_per_country[i].push(g.mixin([k.x,k.y],{attributes:g.mixin({location:h,point:k},e)})))}for(f in this.data_per_country)o=this.data_per_country[f].length>o?this.data_per_country[f].length:o;this.data_config.ranges.slice(-1)[0]<o&&this.data_config.ranges.push(o);
g.hitch(this,G)(c,!this.loaded,this.omap)}else g.hitch(this,B)()}}})})},"dojox/html/entities":function(){define("dojox/html/entities",["dojo/_base/lang"],function(f){var g=f.getObject("dojox.html.entities",!0),i=function(f,b){var d,c;if(b._encCache&&b._encCache.regexp&&b._encCache.mapper&&b.length==b._encCache.length)d=b._encCache.mapper,c=b._encCache.regexp;else{d={};c=["["];var e;for(e=0;e<b.length;e++)d[b[e][0]]="&"+b[e][1]+";",c.push(b[e][0]);c.push("]");c=RegExp(c.join(""),"g");b._encCache={mapper:d,
regexp:c,length:b.length}}return f=f.replace(c,function(a){return d[a]})},k=function(f,b){var d,c;if(b._decCache&&b._decCache.regexp&&b._decCache.mapper&&b.length==b._decCache.length)d=b._decCache.mapper,c=b._decCache.regexp;else{d={};c=["("];var e;for(e=0;e<b.length;e++){var a="&"+b[e][1]+";";e&&c.push("|");d[a]=b[e][0];c.push(a)}c.push(")");c=RegExp(c.join(""),"g");b._decCache={mapper:d,regexp:c,length:b.length}}return f=f.replace(c,function(a){return d[a]})};g.html=[["&","amp"],['"',"quot"],["<",
"lt"],[">","gt"],["\u00a0","nbsp"]];g.latin=[["\u00a1","iexcl"],["\u00a2","cent"],["\u00a3","pound"],["\u20ac","euro"],["\u00a4","curren"],["\u00a5","yen"],["\u00a6","brvbar"],["\u00a7","sect"],["\u00a8","uml"],["\u00a9","copy"],["\u00aa","ordf"],["\u00ab","laquo"],["\u00ac","not"],["\u00ad","shy"],["\u00ae","reg"],["\u00af","macr"],["\u00b0","deg"],["\u00b1","plusmn"],["\u00b2","sup2"],["\u00b3","sup3"],["\u00b4","acute"],["\u00b5","micro"],["\u00b6","para"],["\u00b7","middot"],["\u00b8","cedil"],
["\u00b9","sup1"],["\u00ba","ordm"],["\u00bb","raquo"],["\u00bc","frac14"],["\u00bd","frac12"],["\u00be","frac34"],["\u00bf","iquest"],["\u00c0","Agrave"],["\u00c1","Aacute"],["\u00c2","Acirc"],["\u00c3","Atilde"],["\u00c4","Auml"],["\u00c5","Aring"],["\u00c6","AElig"],["\u00c7","Ccedil"],["\u00c8","Egrave"],["\u00c9","Eacute"],["\u00ca","Ecirc"],["\u00cb","Euml"],["\u00cc","Igrave"],["\u00cd","Iacute"],["\u00ce","Icirc"],["\u00cf","Iuml"],["\u00d0","ETH"],["\u00d1","Ntilde"],["\u00d2","Ograve"],
["\u00d3","Oacute"],["\u00d4","Ocirc"],["\u00d5","Otilde"],["\u00d6","Ouml"],["\u00d7","times"],["\u00d8","Oslash"],["\u00d9","Ugrave"],["\u00da","Uacute"],["\u00db","Ucirc"],["\u00dc","Uuml"],["\u00dd","Yacute"],["\u00de","THORN"],["\u00df","szlig"],["\u00e0","agrave"],["\u00e1","aacute"],["\u00e2","acirc"],["\u00e3","atilde"],["\u00e4","auml"],["\u00e5","aring"],["\u00e6","aelig"],["\u00e7","ccedil"],["\u00e8","egrave"],["\u00e9","eacute"],["\u00ea","ecirc"],["\u00eb","euml"],["\u00ec","igrave"],
["\u00ed","iacute"],["\u00ee","icirc"],["\u00ef","iuml"],["\u00f0","eth"],["\u00f1","ntilde"],["\u00f2","ograve"],["\u00f3","oacute"],["\u00f4","ocirc"],["\u00f5","otilde"],["\u00f6","ouml"],["\u00f7","divide"],["\u00f8","oslash"],["\u00f9","ugrave"],["\u00fa","uacute"],["\u00fb","ucirc"],["\u00fc","uuml"],["\u00fd","yacute"],["\u00fe","thorn"],["\u00ff","yuml"],["\u0192","fnof"],["\u0391","Alpha"],["\u0392","Beta"],["\u0393","Gamma"],["\u0394","Delta"],["\u0395","Epsilon"],["\u0396","Zeta"],["\u0397",
"Eta"],["\u0398","Theta"],["\u0399","Iota"],["\u039a","Kappa"],["\u039b","Lambda"],["\u039c","Mu"],["\u039d","Nu"],["\u039e","Xi"],["\u039f","Omicron"],["\u03a0","Pi"],["\u03a1","Rho"],["\u03a3","Sigma"],["\u03a4","Tau"],["\u03a5","Upsilon"],["\u03a6","Phi"],["\u03a7","Chi"],["\u03a8","Psi"],["\u03a9","Omega"],["\u03b1","alpha"],["\u03b2","beta"],["\u03b3","gamma"],["\u03b4","delta"],["\u03b5","epsilon"],["\u03b6","zeta"],["\u03b7","eta"],["\u03b8","theta"],["\u03b9","iota"],["\u03ba","kappa"],["\u03bb",
"lambda"],["\u03bc","mu"],["\u03bd","nu"],["\u03be","xi"],["\u03bf","omicron"],["\u03c0","pi"],["\u03c1","rho"],["\u03c2","sigmaf"],["\u03c3","sigma"],["\u03c4","tau"],["\u03c5","upsilon"],["\u03c6","phi"],["\u03c7","chi"],["\u03c8","psi"],["\u03c9","omega"],["\u03d1","thetasym"],["\u03d2","upsih"],["\u03d6","piv"],["\u2022","bull"],["\u2026","hellip"],["\u2032","prime"],["\u2033","Prime"],["\u203e","oline"],["\u2044","frasl"],["\u2118","weierp"],["\u2111","image"],["\u211c","real"],["\u2122","trade"],
["\u2135","alefsym"],["\u2190","larr"],["\u2191","uarr"],["\u2192","rarr"],["\u2193","darr"],["\u2194","harr"],["\u21b5","crarr"],["\u21d0","lArr"],["\u21d1","uArr"],["\u21d2","rArr"],["\u21d3","dArr"],["\u21d4","hArr"],["\u2200","forall"],["\u2202","part"],["\u2203","exist"],["\u2205","empty"],["\u2207","nabla"],["\u2208","isin"],["\u2209","notin"],["\u220b","ni"],["\u220f","prod"],["\u2211","sum"],["\u2212","minus"],["\u2217","lowast"],["\u221a","radic"],["\u221d","prop"],["\u221e","infin"],["\u2220",
"ang"],["\u2227","and"],["\u2228","or"],["\u2229","cap"],["\u222a","cup"],["\u222b","int"],["\u2234","there4"],["\u223c","sim"],["\u2245","cong"],["\u2248","asymp"],["\u2260","ne"],["\u2261","equiv"],["\u2264","le"],["\u2265","ge"],["\u2282","sub"],["\u2283","sup"],["\u2284","nsub"],["\u2286","sube"],["\u2287","supe"],["\u2295","oplus"],["\u2297","otimes"],["\u22a5","perp"],["\u22c5","sdot"],["\u2308","lceil"],["\u2309","rceil"],["\u230a","lfloor"],["\u230b","rfloor"],["\u2329","lang"],["\u232a",
"rang"],["\u25ca","loz"],["\u2660","spades"],["\u2663","clubs"],["\u2665","hearts"],["\u2666","diams"],["\u0152","Elig"],["\u0153","oelig"],["\u0160","Scaron"],["\u0161","scaron"],["\u0178","Yuml"],["\u02c6","circ"],["\u02dc","tilde"],["\u2002","ensp"],["\u2003","emsp"],["\u2009","thinsp"],["\u200c","zwnj"],["\u200d","zwj"],["\u200e","lrm"],["\u200f","rlm"],["\u2013","ndash"],["\u2014","mdash"],["\u2018","lsquo"],["\u2019","rsquo"],["\u201a","sbquo"],["\u201c","ldquo"],["\u201d","rdquo"],["\u201e",
"bdquo"],["\u2020","dagger"],["\u2021","Dagger"],["\u2030","permil"],["\u2039","lsaquo"],["\u203a","rsaquo"]];g.encode=function(f,b){f&&(b?f=i(f,b):(f=i(f,g.html),f=i(f,g.latin)));return f};g.decode=function(f,b){f&&(b?f=k(f,b):(f=k(f,g.html),f=k(f,g.latin)));return f};return g})},"dojox/lang/functional/fold":function(){define("dojox/lang/functional/fold",["dojo/_base/lang","dojo/_base/array","dojo/_base/kernel","./lambda"],function(f,g,i,k){var h={};f.mixin(k,{foldl:function(b,d,c,e){"string"==typeof b&&
(b=b.split(""));var e=e||i.global,d=k.lambda(d),a,g;if(f.isArray(b))for(a=0,g=b.length;a<g;c=d.call(e,c,b[a],a,b),++a);else if("function"==typeof b.hasNext&&"function"==typeof b.next)for(a=0;b.hasNext();c=d.call(e,c,b.next(),a++,b));else for(a in b)a in h||(c=d.call(e,c,b[a],a,b));return c},foldl1:function(b,d,c){"string"==typeof b&&(b=b.split(""));var c=c||i.global,d=k.lambda(d),e,a,g;if(f.isArray(b)){e=b[0];for(a=1,g=b.length;a<g;e=d.call(c,e,b[a],a,b),++a);}else if("function"==typeof b.hasNext&&
"function"==typeof b.next){if(b.hasNext()){e=b.next();for(a=1;b.hasNext();e=d.call(c,e,b.next(),a++,b));}}else for(a in g=!0,b)a in h||(g?(e=b[a],g=!1):e=d.call(c,e,b[a],a,b));return e},foldr:function(b,d,c,e){"string"==typeof b&&(b=b.split(""));for(var e=e||i.global,d=k.lambda(d),a=b.length;0<a;--a,c=d.call(e,c,b[a],a,b));return c},foldr1:function(b,d,c){"string"==typeof b&&(b=b.split(""));for(var c=c||i.global,d=k.lambda(d),e=b.length,a=b[e-1],e=e-1;0<e;--e,a=d.call(c,a,b[e],e,b));return a},reduce:function(b,
d,c){return 3>arguments.length?k.foldl1(b,d):k.foldl(b,d,c)},reduceRight:function(b,d,c){return 3>arguments.length?k.foldr1(b,d):k.foldr(b,d,c)},unfold:function(b,d,c,e,a){for(var a=a||i.global,d=k.lambda(d),c=k.lambda(c),b=k.lambda(b),f=[];!b.call(a,e);f.push(d.call(a,e)),e=c.call(a,e));return f}})})},"js/utils":function(){define(["dojo/_base/lang","dojo/has","esri/SpatialReference","dojo/_base/sniff"],function(f,g,i){var k=Object.prototype.toString;cesri_api.init_info_window=function(g,b){var d=
"";b.isCluster||(""!==this.data_config.info_window.header&&(d+="<div class='info_window_header'>"+f.replace(this.data_config.info_window.header,b)+"</div>"),""!==this.data_config.info_window.body&&(d+="<div class='info_window_body'>"+f.replace(this.data_config.info_window.body,b)+"</div>"),""!==this.data_config.info_window.footer&&(d+="<div class='info_window_footer'>"+f.replace(this.data_config.info_window.footer,b)+"</div>"));this._map.setMapCursor("pointer");this.infoWindow.className="info_window transparent";
this.infoWindow.style.width=this.data_config.info_window.width+"px";if(d)this.infoWindow.style.display="block",f.hitch(this,cesri_api.show_info_window)(g);return d};cesri_api.show_info_window=function(f){var b=f.x+16,f=f.y-40;b+this.infoWindow.clientWidth>this._map.width&&(b=b-this.infoWindow.clientWidth-40);0>f?f=20:f+this.infoWindow.clientHeight>this._map.height&&(f=this._map.height-this.infoWindow.clientHeight-20);this.infoWindow.style.left=b+"px";this.infoWindow.style.top=f+"px"};cesri_api.clear_info_window=
function(){this.infoWindow.innerHTML="";this.infoWindow.style.display="none";this._map.setMapCursor("default");g("ie")&&this.f_onmouseover_connect()};cesri_api.updateWithObject=function(f,b){if(!b)return f;for(var d in f)if(d in b&&!(d in{})){var c=f[d];if(c&&"object"==typeof c&&"[object Array]"!==k.call(c))cesri_api.updateWithObject(c,b[d]);else{var c=f,e=d,a;a:if(a=b[d])switch(k.call(a)){case "[object Array]":a=a.slice(0);break a}c[e]=a}}return f};cesri_api.isInQuirksMode=function(){return"CSS1Compat"===
document.compatMode?!1:!0};cesri_api.round=function(f,b){return Math.round(f*Math.pow(10,b))/Math.pow(10,b)};cesri_api.spatialReference=new i({wkid:102100});return 1})},"js/build":function(){define("js/build",[],function(){cesri_api.build="1.22.0064"})}}});
(function(){define("js/main",["./Map","./DataIndicator","./ProjectsLocations","./utils","./build"],function(f,g,i){var k,h;for(h=cesri_api.geometries.features.length;h--;)k=cesri_api.geometries.features[h],cesri_api.geometries[k.attributes.Country_Code]=k.geometry;delete cesri_api.geometries.features;cesri_api.Map=f;cesri_api.DataIndicator=g;cesri_api.ProjectsLocations=i})})();
