/******** BEGIN zotero.js ********//*
    ***** BEGIN LICENSE BLOCK *****
    
    Copyright Â© 2011 Center for History and New Media
                     George Mason University, Fairfax, Virginia, USA
                     http://zotero.org
    
    This file is part of Zotero.
    
    Zotero is free software: you can redistribute it and/or modify
    it under the terms of the GNU Affero General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.
    
    Zotero is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU Affero General Public License for more details.
    
    You should have received a copy of the GNU Affero General Public License
    along with Zotero.  If not, see <http://www.gnu.org/licenses/>.
    
    ***** END LICENSE BLOCK *****
*/var Zotero=new function(){this.isConnector=!0,this.isFx=window.navigator.userAgent.indexOf("Netscape")!==-1,this.isChrome=!!window.chrome,this.isSafari=window.navigator.userAgent.indexOf("Safari/")!==-1&&!this.isChrome,this.isWebKit=window.navigator.userAgent.toLowerCase().indexOf("webkit")!==-1,this.isIE=window.navigator.appName==="Microsoft Internet Explorer",this.version="3.0.999",this.isFx?this.browser="g":this.isSafari?this.browser="s":this.isIE?this.browser="i":this.browser="c",this.initGlobal=function(){Zotero.isBackground=!0,Zotero.Debug.init(),Zotero.Messaging.init(),Zotero.Connector_Types.init(),Zotero.Repo.init()},this.initInject=function(){Zotero.isInject=!0,Zotero.Debug.init(),Zotero.Messaging.init(),Zotero.Connector_Types.init()},this.getSystemInfo=function(e){var t={connector:"true",version:this.version,platform:navigator.platform,locale:navigator.language,appVersion:navigator.appVersion};this.isChrome?t.appName="Chrome":this.isSafari?t.appName="Safari":this.isIE?t.appName="Internet Explorer":t.appName=window.navigator.appName;var n="";for(var r in t)n+=r+" => "+t[r]+", ";n=n.substr(0,n.length-2),e(n)},this.debug=function(e,t){Zotero.Debug.log(e,t)},this.logError=function(e){if(!window.console)return;var t=e.fileName?e.fileName:null,n=e.lineNumber?e.lineNumber:null;!t&&e.sourceURL&&(t=e.sourceURL),!n&&e.line&&(n=e.line);if(!t&&!n&&e.stack){const r=/^\s+at (?:[^(\n]* \()?([^\n]*):([0-9]+):([0-9]+)\)?$/m;var i=r.exec(e.stack);i&&(t=i[1],n=i[2])}if(!t&&!n&&Zotero.isIE&&typeof e=="object"){window.setTimeout(function(){throw window.onerror=function(t,n,r){try{Zotero.Errors.log("message"in e?e.message:e.toString(),n,r)}catch(i){}return!0},e},0);return}t&&n?console.error(e+" at "+t+":"+n):console.error(e),Zotero.Errors.log(e.message?e.message:e.toString(),t,n)}};Zotero.Prefs=new function(){const e={"debug.log":!0,"debug.stackTrace":!1,"debug.store":!1,"debug.store.limit":75e4,"debug.level":5,"debug.time":!1,downloadAssociatedFiles:!0,automaticSnapshots:!0,"connector.repo.lastCheck.localTime":0,"connector.repo.lastCheck.repoTime":0,capitalizeTitles:!1};this.get=function(t){if(localStorage["pref-"+t])return JSON.parse(localStorage["pref-"+t]);if(e.hasOwnProperty(t))return e[t];throw"Zotero.Prefs: Invalid preference "+t},this.getCallback=function(e,t){if(typeof e=="object"){var n={};for(var r=0;r<e.length;r++)n[e[r]]=Zotero.Prefs.get(e[r]);t(n)}else t(Zotero.Prefs.get(e))},this.set=function(e,t){Zotero.debug("Setting "+e+" to "+JSON.stringify(t)),localStorage["pref-"+e]=JSON.stringify(t)}};const ZOTERO_CONFIG={REPOSITORY_URL:"https://www.zotero.org/repo",REPOSITORY_CHECK_INTERVAL:86400,REPOSITORY_RETRY_INTERVAL:3600,REPOSITORY_CHANNEL:"trunk",BASE_URI:"http://zotero.org/",WWW_BASE_URL:"http://www.zotero.org/",API_URL:"https://www.zotero.org/api/",LOGIN_URL:"https://www.zotero.org/user/login/?bm=1",BOOKMARKLET_ORIGIN:"https://www.zotero.org",HTTP_BOOKMARKLET_ORIGIN:"http://www.zotero.org",BOOKMARKLET_URL:"https://www.zotero.org/bookmarklet/",HTTP_BOOKMARKLET_URL:"http://www.zotero.org/bookmarklet/",AUTH_COMPLETE_URL:"https://www.zotero.org/bookmarklet/auth_complete.html",S3_URL:"https://zoterofilestorage.s3.amazonaws.com/"};Zotero.isBookmarklet=!0,Zotero.Debug=new function(){var e,t,n,r,i,s,o=[];this.init=function(){e=Zotero.Prefs.get("debug.log"),n=Zotero.Prefs.get("debug.store"),n&&Zotero.Prefs.set("debug.store",!1),r=Zotero.Prefs.get("debug.level"),i=Zotero.Prefs.get("debug.time"),t=Zotero.Prefs.get("debug.stackTrace"),this.storing=n,this.enabled=e||n},this.log=function(u,a){if(!e&&!n)return;if(u&&u.constructor)switch(u.constructor.name){case"Error":case"EvalError":case"RangeError":case"ReferenceError":case"SyntaxError":case"TypeError":case"URIError":u="'message' => \""+u.message+'"\n'+Zotero.Utilities.varDump(u)+"\n"+u.stack}typeof u!="string"&&(u=Zotero.Utilities.varDump(u)),a||(a=3);if(a>r)return;var f="";if(i||n){var l=0,c=new Date;s&&(l=c-s),s=c;while((""+l).length<7)l="0"+l;f="(+"+l+")"}if(t){var h=(new Error).stack,p=h.indexOf("\n"),d=h.indexOf("\n",p+1),v=h.substring(p+2,d-1),m=v.substr(v.indexOf("@"));h=h.substring(d,h.length-1),u+="\n"+m+h}if(e){var g="zotero("+a+")"+(i?f:"")+": "+u;Zotero.isFx&&!Zotero.isBookmarklet?dump(g+"\n\n"):window.console&&window.console.log(g)}if(n){if(Math.random()<.001){var y=this.count()-Zotero.Prefs.get("debug.store.limit");y>0&&o.splice(0,Math.abs(y))}o.push("("+a+")"+f+": "+u)}},this.get=function(e,t){var n=o,r=n.length;if(r==0)return"";if(t)for(var i=0,s=n.length;i<s;i++)n[i].length>t&&(n[i]=Zotero.Utilities.ellipsize(n[i],t,!0));n=n.join("\n\n");if(e){n=n.substr(e*-1);for(var i=1,s=n.length;i<s;i++)if(n[i]=="\n"&&n[i-1]=="\n"){n=n.substr(i+1);break}}return Zotero.getErrors?Zotero.getErrors(!0).join("\n\n")+"\n\n"+Zotero.getSystemInfo()+"\n\n"+"=========================================================\n\n"+n:n},this.setStore=function(t){t&&this.clear(),n=t,this.storing=n,this.enabled=e||n},this.count=function(){return o.length},this.clear=function(){o=[]}},Zotero.Errors=new function(){var e=[];this.log=function(t,n,r){var i=['[JavaScript Error: "',t,'"'];if(n||r){var s=[];n&&s.push('file: "'+n+'"'),r&&s.push("line: "+r),i.push(" {"+s.join(" ")+"}")}i.push("]"),i=i.join(""),e.push(i)},this.getErrors=function(t){t(e.slice())},this.sendErrorReport=function(t){Zotero.getSystemInfo(function(n){var r={error:"true",errorData:e.join("\n"),extraData:"",diagnostic:n},i="";for(var s in r)i+=s+"="+encodeURIComponent(r[s])+"&";i=i.substr(0,i.length-1),Zotero.HTTP.doPost("http://www.zotero.org/repo/report",i,function(e){if(!e.responseXML){try{e.status>1e3?t(!1,"No network connection"):t(!1,"Invalid response from repository")}catch(n){t(!1,"Repository cannot be contacted")}return}var r=e.responseXML.getElementsByTagName("reported");if(r.length!=1){t(!1,"Invalid response from repository");return}t(!0,r[0].getAttribute("reportID"))})})}},Zotero.HTTP=new function(){function e(e,t){switch(e.readyState){case 1:break;case 2:break;case 3:break;case 4:if(t)try{t(e)}catch(n){Zotero.logError(n);return}}}this.doGet=function(t,n){if(Zotero.isInject&&!Zotero.HTTP.isSameOrigin(t))if(Zotero.isBookmarklet)Zotero.debug("Attempting cross-site request from bookmarklet; this may fail");else if(Zotero.isSafari){Zotero.COHTTP.doGet(t,n);return}Zotero.debug("HTTP GET "+t);var r=new XMLHttpRequest;try{r.open("GET",t,!0),r.onreadystatechange=function(){e(r,n)},r.send(null)}catch(i){Zotero.logError(i),n&&window.setTimeout(function(){try{n({status:0,responseText:""})}catch(e){Zotero.logError(e);return}},0)}return r},this.doPost=function(t,n,r,i){if(Zotero.isInject&&!Zotero.HTTP.isSameOrigin(t))if(Zotero.isBookmarklet)Zotero.debug("Attempting cross-site request from bookmarklet; this may fail");else if(Zotero.isSafari){Zotero.COHTTP.doPost(t,n,r,i);return}var s=n.substr(0,1024);Zotero.debug("HTTP POST "+(n.length>1024?s+"... ("+n.length+" chars)":s)+" to "+t);var o=new XMLHttpRequest;try{o.open("POST",t,!0),i||(i={}),i["Content-Type"]||(i["Content-Type"]="application/x-www-form-urlencoded");for(var u in i)o.setRequestHeader(u,i[u]);o.onreadystatechange=function(){e(o,r)},o.send(n)}catch(a){Zotero.logError(a),r&&window.setTimeout(function(){try{r({status:0,responseText:""})}catch(e){Zotero.logError(e);return}},0)}return o}},Zotero.COHTTP={doGet:Zotero.HTTP.doGet,doPost:Zotero.HTTP.doPost};var XRegExp=function(e){"use strict";function y(e,r,i){var s;if(i)if(e.__proto__)e.__proto__=n.prototype;else for(s in n.prototype)e[s]=n.prototype[s];return e[t]={captureNames:r},e}function b(e){return i.replace.call(e,/([\s\S])(?=[\s\S]*\1)/g,"")}function w(e,r){if(!n.isRegExp(e))throw new TypeError("Type RegExp expected");var s=i.exec.call(/\/([a-z]*)$/i,String(e))[1];return r=r||{},r.add&&(s=b(s+r.add)),r.remove&&(s=i.replace.call(s,new RegExp("["+r.remove+"]+","g"),"")),e=y(new RegExp(e.source,s),S(e)?e[t].captureNames.slice(0):null,r.addProto),e}function E(){return{captureNames:null}}function S(e){return!!e[t]&&!!e[t].captureNames}function x(e,t){if(Array.prototype.indexOf)return e.indexOf(t);var n=e.length,r;for(r=0;r<n;++r)if(e[r]===t)return r;return-1}function T(e,t){return m.call(e)==="[object "+t+"]"}function N(e,t,n){return i.test.call(n.indexOf("x")>-1?/^(?:\s+|#.*|\(\?#[^)]*\))*(?:[?*+]|{\d+(?:,\d*)?})/:/^(?:\(\?#[^)]*\))*(?:[?*+]|{\d+(?:,\d*)?})/,e.slice(t))}function C(e,t){var n;if(b(t)!==t)throw new SyntaxError("Invalid duplicate regex flag "+t);e=i.replace.call(e,/^\(\?([\w$]+)\)/,function(e,n){if(i.test.call(/[gy]/,n))throw new SyntaxError("Cannot use flag g or y in mode modifier "+e);return t=b(t+n),""});for(n=0;n<t.length;++n)if(!v[t.charAt(n)])throw new SyntaxError("Unknown regex flag "+t.charAt(n));return{pattern:e,flags:t}}function k(e){return e=e||{},T(e,"String")&&(e=n.forEach(e,/[^\s,]+/,function(e){this[e]=!0},{})),e}function L(e){if(!/^[\w$]$/.test(e))throw new Error("Flag must be a single character A-Za-z0-9_$");v[e]=!0}function A(e,t,r,i,s){var o=a.length,u=null,f,l;while(o--){l=a[o];if((l.scope===i||l.scope==="all")&&(!l.flag||t.indexOf(l.flag)>-1)){f=n.exec(e,l.regex,r,"sticky");if(f){u={matchLength:f[0].length,output:l.handler.call(s,f,i,t),reparse:l.reparse};break}}}return u}function O(e){n.cache.flush("patterns"),r.astral=e}function M(e){RegExp.prototype.exec=(e?s:i).exec,RegExp.prototype.test=(e?s:i).test,String.prototype.match=(e?s:i).match,String.prototype.replace=(e?s:i).replace,String.prototype.split=(e?s:i).split,r.natives=e}function _(e){if(e==null)throw new TypeError("Cannot convert null or undefined to object");return e}var t="xregexp",n,r={astral:!1,natives:!1},i={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:String.prototype.match,replace:String.prototype.replace,split:String.prototype.split},s={},o={},u={},a=[],f="default",l="class",c={"default":/\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9]\d*|x[\dA-Fa-f]{2}|u[\dA-Fa-f]{4}|c[A-Za-z]|[\s\S])|\(\?[:=!]|[?*+]\?|{\d+(?:,\d*)?}\??|[\s\S]/,"class":/\\(?:[0-3][0-7]{0,2}|[4-7][0-7]?|x[\dA-Fa-f]{2}|u[\dA-Fa-f]{4}|c[A-Za-z]|[\s\S])|[\s\S]/},h=/\$(?:{([\w$]+)}|(\d\d?|[\s\S]))/g,p=i.exec.call(/()??/,"")[1]===e,d=RegExp.prototype.sticky!==e,v={g:!0,i:!0,m:!0,y:d},m={}.toString,g;return n=function(t,r){var s={hasNamedCapture:!1,captureNames:[]},o=f,a="",h=0,p,d,v;if(n.isRegExp(t)){if(r!==e)throw new TypeError("Cannot supply flags when copying a RegExp");return w(t,{addProto:!0})}t=t===e?"":String(t),r=r===e?"":String(r),v=t+"***"+r;if(!u[v]){p=C(t,r),t=p.pattern,r=p.flags;while(h<t.length){do p=A(t,r,h,o,s),p&&p.reparse&&(t=t.slice(0,h)+p.output+t.slice(h+p.matchLength));while(p&&p.reparse);p?(a+=p.output,h+=p.matchLength||1):(d=n.exec(t,c[o],h,"sticky")[0],a+=d,h+=d.length,d==="["&&o===f?o=l:d==="]"&&o===l&&(o=f))}u[v]={pattern:i.replace.call(a,/\(\?:\)(?=\(\?:\))|^\(\?:\)|\(\?:\)$/g,""),flags:i.replace.call(r,/[^gimy]+/g,""),captures:s.hasNamedCapture?s.captureNames:null}}return v=u[v],y(new RegExp(v.pattern,v.flags),v.captures,!0)},n.prototype=new RegExp,n.version="3.0.0-pre",n.addToken=function(e,t,r){r=r||{};var s=r.optionalFlags,o;r.flag&&L(r.flag);if(s){s=i.split.call(s,"");for(o=0;o<s.length;++o)L(s[o])}a.push({regex:w(e,{add:"g"+(d?"y":"")}),handler:t,scope:r.scope||f,flag:r.flag,reparse:r.reparse}),n.cache.flush("patterns")},n.cache=function(e,t){var r=e+"***"+(t||"");return o[r]||(o[r]=n(e,t))},n.cache.flush=function(e){e==="patterns"?u={}:o={}},n.escape=function(e){return i.replace.call(_(e),/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},n.exec=function(e,n,r,i){var o="g",u,a;return d&&(i||n.sticky&&i!==!1)&&(o+="y"),n[t]=n[t]||E(),a=n[t][o]||(n[t][o]=w(n,{add:o,remove:i===!1?"y":""})),a.lastIndex=r=r||0,u=s.exec.call(a,e),i&&u&&u.index!==r&&(u=null),n.global&&(n.lastIndex=u?a.lastIndex:0),u},n.forEach=function(e,t,r,i){var s=0,o=-1,u;while(u=n.exec(e,t,s))r.call(i,u,++o,e,t),s=u.index+(u[0].length||1);return i},n.globalize=function(e){return w(e,{add:"g",addProto:!0})},n.install=function(e){e=k(e),!r.astral&&e.astral&&O(!0),!r.natives&&e.natives&&M(!0)},n.isInstalled=function(e){return!!r[e]},n.isRegExp=function(e){return m.call(e)==="[object RegExp]"},n.match=function(e,n,r){var s=n.global&&r!=="one"||r==="all",o=(s?"g":"")+(n.sticky?"y":""),u,a;return n[t]=n[t]||E(),a=n[t][o||"noGY"]||(n[t][o||"noGY"]=w(n,{add:o,remove:r==="one"?"g":""})),u=i.match.call(_(e),a),n.global&&(n.lastIndex=r==="one"&&u?u.index+u[0].length:0),s?u||[]:u&&u[0]},n.matchChain=function(e,t){return function r(e,i){var s=t[i].regex?t[i]:{regex:t[i]},o=[],u=function(e){if(s.backref){if(!(e.hasOwnProperty(s.backref)||+s.backref<e.length))throw new ReferenceError("Backreference to undefined group: "+s.backref);o.push(e[s.backref]||"")}else o.push(e[0])},a;for(a=0;a<e.length;++a)n.forEach(e[a],s.regex,u);return i===t.length-1||!o.length?o:r(o,i+1)}([e],0)},n.replace=function(e,r,i,o){var u=n.isRegExp(r),a=r.global&&o!=="one"||o==="all",f=(a?"g":"")+(r.sticky?"y":""),l=r,c;return u?(r[t]=r[t]||E(),l=r[t][f||"noGY"]||(r[t][f||"noGY"]=w(r,{add:f,remove:o==="one"?"g":""}))):a&&(l=new RegExp(n.escape(String(r)),"g")),c=s.replace.call(_(e),l,i),u&&r.global&&(r.lastIndex=0),c},n.replaceEach=function(e,t){var r,i;for(r=0;r<t.length;++r)i=t[r],e=n.replace(e,i[0],i[1],i[2]);return e},n.split=function(e,t,n){return s.split.call(_(e),t,n)},n.test=function(e,t,r,i){return!!n.exec(e,t,r,i)},n.uninstall=function(e){e=k(e),r.astral&&e.astral&&O(!1),r.natives&&e.natives&&M(!1)},n.union=function(e,r){var s=/(\()(?!\?)|\\([1-9]\d*)|\\[\s\S]|\[(?:[^\\\]]|\\[\s\S])*]/g,o=[],u=0,a,f,l,c=function(e,t,n){var r=f[u-a];if(t){++u;if(r)return"(?<"+r+">"}else if(n)return"\\"+(+n+a);return e},h;if(!T(e,"Array")||!e.length)throw new TypeError("Must provide a nonempty array of patterns to merge");for(h=0;h<e.length;++h)l=e[h],n.isRegExp(l)?(a=u,f=l[t]&&l[t].captureNames||[],o.push(i.replace.call(n(l.source).source,s,c))):o.push(n.escape(l));return n(o.join("|"),r)},s.exec=function(n){var r=this.lastIndex,s=i.exec.apply(this,arguments),o,u,a;if(s){!p&&s.length>1&&x(s,"")>-1&&(u=w(this,{remove:"g"}),i.replace.call(String(n).slice(s.index),u,function(){var t=arguments.length,n;for(n=1;n<t-2;++n)arguments[n]===e&&(s[n]=e)}));if(this[t]&&this[t].captureNames)for(a=1;a<s.length;++a)o=this[t].captureNames[a-1],o&&(s[o]=s[a]);this.global&&!s[0].length&&this.lastIndex>s.index&&(this.lastIndex=s.index)}return this.global||(this.lastIndex=r),s},s.test=function(e){return!!s.exec.call(this,e)},s.match=function(e){var t;if(!n.isRegExp(e))e=new RegExp(e);else if(e.global)return t=i.match.apply(this,arguments),e.lastIndex=0,t;return s.exec.call(e,_(this))},s.replace=function(r,s){var o=n.isRegExp(r),u,a,f;return o?(r[t]&&(a=r[t].captureNames),u=r.lastIndex):r+="",T(s,"Function")?f=i.replace.call(String(this),r,function(){var t=arguments,n;if(a){t[0]=new String(t[0]);for(n=0;n<a.length;++n)a[n]&&(t[0][a[n]]=t[n+1])}return o&&r.global&&(r.lastIndex=t[t.length-2]+t[0].length),s.apply(e,t)}):f=i.replace.call(this==null?this:String(this),r,function(){var e=arguments;return i.replace.call(String(s),h,function(t,n,r){var i;if(n){i=+n;if(i<=e.length-3)return e[i]||"";i=a?x(a,n):-1;if(i<0)throw new SyntaxError("Backreference to undefined group "+t);return e[i+1]||""}if(r==="$")return"$";if(r==="&"||+r===0)return e[0];if(r==="`")return e[e.length-1].slice(0,e[e.length-2]);if(r==="'")return e[e.length-1].slice(e[e.length-2]+e[0].length);r=+r;if(!isNaN(r)){if(r>e.length-3)throw new SyntaxError("Backreference to undefined group "+t);return e[r]||""}throw new SyntaxError("Invalid token "+t)})}),o&&(r.global?r.lastIndex=0:r.lastIndex=u),f},s.split=function(t,r){if(!n.isRegExp(t))return i.split.apply(this,arguments);var s=String(this),o=[],u=t.lastIndex,a=0,f;return r=(r===e?-1:r)>>>0,n.forEach(s,t,function(e){e.index+e[0].length>a&&(o.push(s.slice(a,e.index)),e.length>1&&e.index<s.length&&Array.prototype.push.apply(o,e.slice(1)),f=e[0].length,a=e.index+f)}),a===s.length?(!i.test.call(t,"")||f)&&o.push(""):o.push(s.slice(a)),t.lastIndex=u,o.length>r?o.slice(0,r):o},g=n.addToken,g(/\\([ABCE-RTUVXYZaeg-mopqyz]|c(?![A-Za-z])|u(?![\dA-Fa-f]{4})|x(?![\dA-Fa-f]{2}))/,function(e,t){if(e[1]==="B"&&t===f)return e[0];throw new SyntaxError("Invalid escape "+e[0])},{scope:"all"}),g(/\[(\^?)]/,function(e){return e[1]?"[\\s\\S]":"\\b\\B"}),g(/\(\?#[^)]*\)/,function(e,t,n){return N(e.input,e.index+e[0].length,n)?"":"(?:)"}),g(/\s+|#.*/,function(e,t,n){return N(e.input,e.index+e[0].length,n)?"":"(?:)"},{flag:"x"}),g(/\./,function(){return"[\\s\\S]"},{flag:"s"}),g(/\\k<([\w$]+)>/,function(e){var t=isNaN(e[1])?x(this.captureNames,e[1])+1:+e[1],n=e.index+e[0].length;if(!t||t>this.captureNames.length)throw new SyntaxError("Backreference to undefined group "+e[0]);return"\\"+t+(n===e.input.length||isNaN(e.input.charAt(n))?"":"(?:)")}),g(/\\(\d+)/,function(e,t){if(!(t===f&&/^[1-9]/.test(e[1])&&+e[1]<=this.captureNames.length)&&e[1]!=="0")throw new SyntaxError("Cannot use octal escape or backreference to undefined group "+e[0]);return e[0]},{scope:"all"}),g(/\(\?P?<([\w$]+)>/,function(e){if(!isNaN(e[1]))throw new SyntaxError("Cannot use integer as capture name "+e[0]);if(e[1]==="length"||e[1]==="__proto__")throw new SyntaxError("Cannot use reserved word as capture name "+e[0]);if(x(this.captureNames,e[1])>-1)throw new SyntaxError("Cannot use same name for multiple groups "+e[0]);return this.captureNames.push(e[1]),this.hasNamedCapture=!0,"("}),g(/\((?!\?)/,function(e,t,n){return n.indexOf("n")>-1?"(?:":(this.captureNames.push(null),"(")},{optionalFlags:"n"}),n}();(function(e){"use strict";function i(e){var t=/^\^/,n=/\$$/;return t.test(e)&&n.test(e.replace(/\\[\s\S]/g,""))?e.replace(t,"").replace(n,""):e}function s(n){return e.isRegExp(n)?n[t]&&n[t].captureNames?n:e(n.source):e(n)}var t="xregexp",n=/(\()(?!\?)|\\([1-9]\d*)|\\[\s\S]|\[(?:[^\\\]]|\\[\s\S])*]/g,r=e.union([/\({{([\w$]+)}}\)|{{([\w$]+)}}/,n],"g");e.build=function(o,u,a){var f=/^\(\?([\w$]+)\)/.exec(o),l={},c=0,h,p=0,d=[0],v,m,g;f&&(a=a||"",f[1].replace(/./g,function(e){a+=a.indexOf(e)>-1?"":e}));for(g in u)u.hasOwnProperty(g)&&(m=s(u[g]),l[g]={pattern:i(m.source),names:m[t].captureNames||[]});return o=s(o),v=o[t].captureNames||[],o=o.source.replace(r,function(e,t,r,i,s){var o=t||r,u,a;if(o){if(!l.hasOwnProperty(o))throw new ReferenceError("Undefined property "+e);return t?(u=v[p],d[++p]=++c,a="(?<"+(u||o)+">"):a="(?:",h=c,a+l[o].pattern.replace(n,function(e,t,n){if(t){u=l[o].names[c-h],++c;if(u)return"(?<"+u+">"}else if(n)return"\\"+(+n+h);return e})+")"}if(i){u=v[p],d[++p]=++c;if(u)return"(?<"+u+">"}else if(s)return"\\"+d[+s];return e}),e(o,a)}})(XRegExp),function(e){"use strict";function t(e,t,n,r){return{name:e,value:t,start:n,end:r}}e.matchRecursive=function(n,r,i,s,o){s=s||"",o=o||{};var u=s.indexOf("g")>-1,a=s.indexOf("y")>-1,f=s.replace(/y/g,""),l=o.escapeChar,c=o.valueNames,h=[],p=0,d=0,v=0,m=0,g,y,b,w,E;r=e(r,f),i=e(i,f);if(l){if(l.length>1)throw new Error("Cannot use more than one escape character");l=e.escape(l),E=new RegExp("(?:"+l+"[\\S\\s]|(?:(?!"+e.union([r,i]).source+")[^"+l+"])+)+",s.replace(/[^im]+/g,""))}for(;;){l&&(v+=(e.exec(n,E,v,"sticky")||[""])[0].length),b=e.exec(n,r,v),w=e.exec(n,i,v),b&&w&&(b.index<=w.index?w=null:b=null);if(b||w)d=(b||w).index,v=d+(b||w)[0].length;else if(!p)break;if(a&&!p&&d>m)break;if(b)p||(g=d,y=v),++p;else{if(!w||!p)throw new Error("Unbalanced delimiter found in string");if(!--p){c?(c[0]&&g>m&&h.push(t(c[0],n.slice(m,g),m,g)),c[1]&&h.push(t(c[1],n.slice(g,y),g,y)),c[2]&&h.push(t(c[2],n.slice(y,d),y,d)),c[3]&&h.push(t(c[3],n.slice(d,v),d,v))):h.push(n.slice(y,d)),m=v;if(!u)break}}d===v&&++v}return u&&!a&&c&&c[0]&&n.length>m&&h.push(t(c[0],n.slice(m),m,n.length)),h}}(XRegExp),function(e){"use strict";function n(e){return e.replace(/[- _]+/g,"").toLowerCase()}function r(e){while(e.length<4)e="0"+e;return e}function i(e){return parseInt(e,16)}function s(e){return parseInt(e,10).toString(16)}function o(e){var t=/^\\[xu](.+)/.exec(e);return t?i(t[1]):e.charCodeAt(e.charAt(0)==="\\"?1:0)}function u(t){var n="",i=-1,u;return e.forEach(t,/(\\x..|\\u....|\\?[\s\S])(?:-(\\x..|\\u....|\\?[\s\S]))?/,function(e){u=o(e[1]),u>i+1&&(n+="\\u"+r(s(i+1)),u>i+2&&(n+="-\\u"+r(s(u-1)))),i=o(e[2]||e[1])}),i<65535&&(n+="\\u"+r(s(i+1)),i<65534&&(n+="-\\uFFFF")),n}function a(e){var n="b!";return t[e][n]||(t[e][n]=u(t[e].bmp))}function f(e,n){var r=t[e],i="";return r.bmp&&!r.isBmpLast&&(i="["+r.bmp+"]"+(r.astral?"|":"")),r.astral&&(i+=r.astral),r.isBmpLast&&r.bmp&&(i+=(r.astral?"|":"")+"["+r.bmp+"]"),n?"(?:(?!"+i+")(?:[í -í¯¿][í°-í¿¿]|[\0-ï¿¿]))":"(?:"+i+")"}function l(e,n){var r=n?"a!":"a=";return t[e][r]||(t[e][r]=f(e,n))}var t={};e.addToken(/\\([pP])(?:{(\^?)([^}]*)}|([A-Za-z]))/,function(r,i,s){var o="Invalid double negation ",u="Unknown Unicode token ",f="Unicode token missing data ",c="Astral mode required for Unicode token ",h="Astral mode does not support Unicode tokens within character classes",p=r[1]==="P"||!!r[2],d=s.indexOf("A")>-1||e.isInstalled("astral"),v=n(r[4]||r[3]),m=t[v];if(r[1]==="P"&&r[2])throw new SyntaxError(o+r[0]);if(!t.hasOwnProperty(v))throw new SyntaxError(u+r[0]);if(m.inverseOf){v=n(m.inverseOf);if(!t.hasOwnProperty(v))throw new ReferenceError(f+r[0]+" -> "+m.inverseOf);m=t[v],p=!p}if(!m.bmp&&!d)throw new SyntaxError(c+r[0]);if(d){if(i==="class")throw new SyntaxError(h);return l(v,p)}return i==="class"?p?a(v):m.bmp:(p?"[^":"[")+m.bmp+"]"},{scope:"all",optionalFlags:"A"}),e.addUnicodeData=function(r){var i="Unicode token requires name",s="Unicode token has no character data ",o,u;for(u=0;u<r.length;++u){o=r[u];if(!o.name)throw new Error(i);if(!(o.inverseOf||o.bmp||o.astral))throw new Error(s+o.name);t[n(o.name)]=o,o.alias&&(t[n(o.alias)]=o)}e.cache.flush("patterns")},e.addUnicodeData([{name:"L",alias:"Letter",bmp:"A-Za-zÂªÂµÂºÃ-ÃÃ-Ã¶Ã¸-ËË-ËË -Ë¤Ë¬Ë®Í°-Í´Í¶Í·Íº-Í½ÎÎ-ÎÎÎ-Î¡Î£-ÏµÏ·-ÒÒ-Ô§Ô±-ÕÕÕ¡-Ö×-×ª×°-×²Ø -ÙÙ®Ù¯Ù±-ÛÛÛ¥Û¦Û®Û¯Ûº-Û¼Û¿ÜÜ-Ü¯Ý-Þ¥Þ±ß-ßªß´ßµßºà -à à à ¤à ¨à¡-à¡à¢ à¢¢-à¢¬à¤-à¤¹à¤½à¥à¥-à¥¡à¥±-à¥·à¥¹-à¥¿à¦-à¦à¦à¦à¦-à¦¨à¦ª-à¦°à¦²à¦¶-à¦¹à¦½à§à§à§à§-à§¡à§°à§±à¨-à¨à¨à¨à¨-à¨¨à¨ª-à¨°à¨²à¨³à¨µà¨¶à¨¸à¨¹à©-à©à©à©²-à©´àª-àªàª-àªàª-àª¨àªª-àª°àª²àª³àªµ-àª¹àª½à«à« à«¡à¬-à¬à¬à¬à¬-à¬¨à¬ª-à¬°à¬²à¬³à¬µ-à¬¹à¬½à­à­à­-à­¡à­±à®à®-à®à®-à®à®-à®à®à®à®à®à®à®£à®¤à®¨-à®ªà®®-à®¹à¯à°-à°à°-à°à°-à°¨à°ª-à°³à°µ-à°¹à°½à±à±à± à±¡à²-à²à²-à²à²-à²¨à²ª-à²³à²µ-à²¹à²½à³à³ à³¡à³±à³²à´-à´à´-à´à´-à´ºà´½àµàµ àµ¡àµº-àµ¿à¶-à¶à¶-à¶±à¶³-à¶»à¶½à·-à·à¸-à¸°à¸²à¸³à¹-à¹àºàºàºàºàºàºàºàº-àºàº-àºàº¡-àº£àº¥àº§àºªàº«àº­-àº°àº²àº³àº½à»-à»à»à»-à»à¼à½-à½à½-à½¬à¾-à¾á-áªá¿á-áá-áá¡á¥á¦á®-á°áµ-ááá -áááá-áºá¼-áá-áá-ááá-áá -áá-áá-á°á²-áµá¸-á¾áá-áá-áá-áá-áá-áá-áá -á´á-á¬á¯-á¿á-áá -áªá-áá-áá -á±á-áá -á¬á®-á°á-á³ááá  -á¡·á¢-á¢¨á¢ªá¢°-á£µá¤-á¤á¥-á¥­á¥°-á¥´á¦-á¦«á§-á§á¨-á¨á¨ -á©áª§á¬-á¬³á­-á­á®-á® á®®á®¯á®º-á¯¥á°-á°£á±-á±á±-á±½á³©-á³¬á³®-á³±á³µá³¶á´-á¶¿á¸-á¼á¼-á¼á¼ -á½á½-á½á½-á½á½á½á½á½-á½½á¾-á¾´á¾¶-á¾¼á¾¾á¿-á¿á¿-á¿á¿-á¿á¿-á¿á¿ -á¿¬á¿²-á¿´á¿¶-á¿¼â±â¿â-ââââ-âââ-ââ¤â¦â¨âª-â­â¯-â¹â¼-â¿â-âââââ°-â°®â°°-â±â± -â³¤â³«-â³®â³²â³³â´-â´¥â´§â´­â´°-âµ§âµ¯â¶-â¶â¶ -â¶¦â¶¨-â¶®â¶°-â¶¶â¶¸-â¶¾â·-â·â·-â·â·-â·â·-â·â¸¯ããã±-ãµã»ã¼ã-ãã-ãã¡-ãºã¼-ã¿ã-ã­ã±-ãã -ãºã°-ã¿ã-ä¶µä¸-é¿ê-êê-ê½ê-êê-êêªê«ê-ê®ê¿-êê -ê¥ê-êê¢-êê-êê-êê -êªê¸-ê ê -ê ê -ê ê -ê ¢ê¡-ê¡³ê¢-ê¢³ê£²-ê£·ê£»ê¤-ê¤¥ê¤°-ê¥ê¥ -ê¥¼ê¦-ê¦²ê§ê¨-ê¨¨ê©-ê©ê©-ê©ê© -ê©¶ê©ºêª-êª¯êª±êªµêª¶êª¹-êª½ê«ê«ê«-ê«ê« -ê«ªê«²-ê«´ê¬-ê¬ê¬-ê¬ê¬-ê¬ê¬ -ê¬¦ê¬¨-ê¬®ê¯-ê¯¢ê°-í£í°-íí-í»ï¤-ï©­ï©°-ï«ï¬-ï¬ï¬-ï¬ï¬ï¬-ï¬¨ï¬ª-ï¬¶ï¬¸-ï¬¼ï¬¾ï­ï­ï­ï­ï­-ï®±ï¯-ï´½ïµ-ï¶ï¶-ï·ï·°-ï·»ï¹°-ï¹´ï¹¶-ï»¼ï¼¡-ï¼ºï½-ï½ï½¦-ï¾¾ï¿-ï¿ï¿-ï¿ï¿-ï¿ï¿-ï¿"}])}(XRegExp),function(e){"use strict";if(!e.addUnicodeData)throw new ReferenceError("Unicode Base must be loaded before Unicode Categories");e.addUnicodeData([{name:"Ll",alias:"Lowercase_Letter",bmp:"a-zÂµÃ-Ã¶Ã¸-Ã¿ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ¡Ä£Ä¥Ä§Ä©Ä«Ä­Ä¯Ä±Ä³ÄµÄ·Ä¸ÄºÄ¼Ä¾ÅÅÅÅÅÅÅÅÅÅÅÅÅÅÅÅÅÅ¡Å£Å¥Å§Å©Å«Å­Å¯Å±Å³ÅµÅ·ÅºÅ¼Å¾-ÆÆÆÆÆÆÆÆÆ-ÆÆÆ¡Æ£Æ¥Æ¨ÆªÆ«Æ­Æ°Æ´Æ¶Æ¹ÆºÆ½-Æ¿ÇÇÇÇÇÇÇÇÇÇÇÇÇÇ¡Ç£Ç¥Ç§Ç©Ç«Ç­Ç¯Ç°Ç³ÇµÇ¹Ç»Ç½Ç¿ÈÈÈÈÈÈÈÈÈÈÈÈÈÈÈÈÈ¡È£È¥È§È©È«È­È¯È±È³-È¹È¼È¿ÉÉÉÉÉÉÉ-ÊÊ-Ê¯Í±Í³Í·Í»-Í½ÎÎ¬-ÏÏÏÏ-ÏÏÏÏÏÏ¡Ï£Ï¥Ï§Ï©Ï«Ï­Ï¯-Ï³ÏµÏ¸Ï»Ï¼Ð°-ÑÑ¡Ñ£Ñ¥Ñ§Ñ©Ñ«Ñ­Ñ¯Ñ±Ñ³ÑµÑ·Ñ¹Ñ»Ñ½Ñ¿ÒÒÒÒÒÒÒÒÒÒÒÒÒ¡Ò£Ò¥Ò§Ò©Ò«Ò­Ò¯Ò±Ò³ÒµÒ·Ò¹Ò»Ò½Ò¿ÓÓÓÓÓÓÓÓÓÓÓÓÓÓÓÓÓ¡Ó£Ó¥Ó§Ó©Ó«Ó­Ó¯Ó±Ó³ÓµÓ·Ó¹Ó»Ó½Ó¿ÔÔÔÔÔÔÔÔÔÔÔÔÔÔÔÔÔ¡Ô£Ô¥Ô§Õ¡-Öá´-á´«áµ«-áµ·áµ¹-á¶á¸á¸á¸á¸á¸á¸á¸á¸á¸á¸á¸á¸á¸á¸á¸á¸á¸¡á¸£á¸¥á¸§á¸©á¸«á¸­á¸¯á¸±á¸³á¸µá¸·á¸¹á¸»á¸½á¸¿á¹á¹á¹á¹á¹á¹á¹á¹á¹á¹á¹á¹á¹á¹á¹á¹á¹¡á¹£á¹¥á¹§á¹©á¹«á¹­á¹¯á¹±á¹³á¹µá¹·á¹¹á¹»á¹½á¹¿áºáºáºáºáºáºáºáºáºáºáº-áºáºáº¡áº£áº¥áº§áº©áº«áº­áº¯áº±áº³áºµáº·áº¹áº»áº½áº¿á»á»á»á»á»á»á»á»á»á»á»á»á»á»á»á»á»¡á»£á»¥á»§á»©á»«á»­á»¯á»±á»³á»µá»·á»¹á»»á»½á»¿-á¼á¼-á¼á¼ -á¼§á¼°-á¼·á½-á½á½-á½á½ -á½§á½°-á½½á¾-á¾á¾-á¾á¾ -á¾§á¾°-á¾´á¾¶á¾·á¾¾á¿-á¿á¿á¿á¿-á¿á¿á¿á¿ -á¿§á¿²-á¿´á¿¶á¿·âââââ¯â´â¹â¼â½â-ââââ°°-â±â±¡â±¥â±¦â±¨â±ªâ±¬â±±â±³â±´â±¶-â±»â²â²â²â²â²â²â²â²â²â²â²â²â²â²â²â²â²¡â²£â²¥â²§â²©â²«â²­â²¯â²±â²³â²µâ²·â²¹â²»â²½â²¿â³â³â³â³â³â³â³â³â³â³â³â³â³â³â³â³â³¡â³£â³¤â³¬â³®â³³â´-â´¥â´§â´­êêêêêêêêêêêêêêêêê¡ê£ê¥ê§ê©ê«ê­êêêêêêêêêêêêê£ê¥ê§ê©ê«ê­ê¯-ê±ê³êµê·ê¹ê»ê½ê¿êêêêêêêêêêêêêêêêê¡ê£ê¥ê§ê©ê«ê­ê¯ê±-ê¸êºê¼ê¿êêêêêêêêê¡ê£ê¥ê§ê©êºï¬-ï¬ï¬-ï¬ï½-ï½"},{name:"Lm",alias:"Modifier_Letter",bmp:"Ê°-ËË-ËË -Ë¤Ë¬Ë®Í´ÍºÕÙÛ¥Û¦ß´ßµßºà à ¤à ¨à¥±à¹à»á¼áá¡áª§á±¸-á±½á´¬-áµªáµ¸á¶-á¶¿â±â¿â-ââ±¼â±½âµ¯â¸¯ãã±-ãµã»ããã¼-ã¾êê¸-ê½êê¿ê-êê°êê¸ê¹ê§ê©°ê«ê«³ê«´ï½°ï¾ï¾"},{name:"Lo",alias:"Other_Letter",bmp:"ÂªÂºÆ»Ç-ÇÊ×-×ª×°-×²Ø -Ø¿Ù-ÙÙ®Ù¯Ù±-ÛÛÛ®Û¯Ûº-Û¼Û¿ÜÜ-Ü¯Ý-Þ¥Þ±ß-ßªà -à à¡-à¡à¢ à¢¢-à¢¬à¤-à¤¹à¤½à¥à¥-à¥¡à¥²-à¥·à¥¹-à¥¿à¦-à¦à¦à¦à¦-à¦¨à¦ª-à¦°à¦²à¦¶-à¦¹à¦½à§à§à§à§-à§¡à§°à§±à¨-à¨à¨à¨à¨-à¨¨à¨ª-à¨°à¨²à¨³à¨µà¨¶à¨¸à¨¹à©-à©à©à©²-à©´àª-àªàª-àªàª-àª¨àªª-àª°àª²àª³àªµ-àª¹àª½à«à« à«¡à¬-à¬à¬à¬à¬-à¬¨à¬ª-à¬°à¬²à¬³à¬µ-à¬¹à¬½à­à­à­-à­¡à­±à®à®-à®à®-à®à®-à®à®à®à®à®à®à®£à®¤à®¨-à®ªà®®-à®¹à¯à°-à°à°-à°à°-à°¨à°ª-à°³à°µ-à°¹à°½à±à±à± à±¡à²-à²à²-à²à²-à²¨à²ª-à²³à²µ-à²¹à²½à³à³ à³¡à³±à³²à´-à´à´-à´à´-à´ºà´½àµàµ àµ¡àµº-àµ¿à¶-à¶à¶-à¶±à¶³-à¶»à¶½à·-à·à¸-à¸°à¸²à¸³à¹-à¹àºàºàºàºàºàºàºàº-àºàº-àºàº¡-àº£àº¥àº§àºªàº«àº­-àº°àº²àº³àº½à»-à»à»-à»à¼à½-à½à½-à½¬à¾-à¾á-áªá¿á-áá-áá¡á¥á¦á®-á°áµ-ááá-áºá½-áá-áá-ááá-áá -áá-áá-á°á²-áµá¸-á¾áá-áá-áá-áá-áá-áá-áá -á´á-á¬á¯-á¿á-áá -áªá-áá-áá -á±á-áá -á¬á®-á°á-á³áá  -á¡á¡-á¡·á¢-á¢¨á¢ªá¢°-á£µá¤-á¤á¥-á¥­á¥°-á¥´á¦-á¦«á§-á§á¨-á¨á¨ -á©á¬-á¬³á­-á­á®-á® á®®á®¯á®º-á¯¥á°-á°£á±-á±á±-á±·á³©-á³¬á³®-á³±á³µá³¶âµ-â¸â´°-âµ§â¶-â¶â¶ -â¶¦â¶¨-â¶®â¶°-â¶¶â¶¸-â¶¾â·-â·â·-â·â·-â·â·-â·ãã¼ã-ããã¡-ãºã¿ã-ã­ã±-ãã -ãºã°-ã¿ã-ä¶µä¸-é¿ê-êê-êê-ê·ê-êê-êêªê«ê®ê -ê¥ê»-ê ê -ê ê -ê ê -ê ¢ê¡-ê¡³ê¢-ê¢³ê£²-ê£·ê£»ê¤-ê¤¥ê¤°-ê¥ê¥ -ê¥¼ê¦-ê¦²ê¨-ê¨¨ê©-ê©ê©-ê©ê© -ê©¯ê©±-ê©¶ê©ºêª-êª¯êª±êªµêª¶êª¹-êª½ê«ê«ê«ê«ê« -ê«ªê«²ê¬-ê¬ê¬-ê¬ê¬-ê¬ê¬ -ê¬¦ê¬¨-ê¬®ê¯-ê¯¢ê°-í£í°-íí-í»ï¤-ï©­ï©°-ï«ï¬ï¬-ï¬¨ï¬ª-ï¬¶ï¬¸-ï¬¼ï¬¾ï­ï­ï­ï­ï­-ï®±ï¯-ï´½ïµ-ï¶ï¶-ï·ï·°-ï·»ï¹°-ï¹´ï¹¶-ï»¼ï½¦-ï½¯ï½±-ï¾ï¾ -ï¾¾ï¿-ï¿ï¿-ï¿ï¿-ï¿ï¿-ï¿"},{name:"Lt",alias:"Titlecase_Letter",bmp:"ÇÇÇÇ²á¾-á¾á¾-á¾á¾¨-á¾¯á¾¼á¿á¿¼"},{name:"Lu",alias:"Uppercase_Letter",bmp:"A-ZÃ-ÃÃ-ÃÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ Ä¢Ä¤Ä¦Ä¨ÄªÄ¬Ä®Ä°Ä²Ä´Ä¶Ä¹Ä»Ä½Ä¿ÅÅÅÅÅÅÅÅÅÅÅÅÅÅÅÅ Å¢Å¤Å¦Å¨ÅªÅ¬Å®Å°Å²Å´Å¶Å¸Å¹Å»Å½ÆÆÆÆÆÆ-ÆÆ-ÆÆÆÆ-ÆÆÆÆÆ Æ¢Æ¤Æ¦Æ§Æ©Æ¬Æ®Æ¯Æ±-Æ³ÆµÆ·Æ¸Æ¼ÇÇÇÇÇÇÇÇÇÇÇÇÇ Ç¢Ç¤Ç¦Ç¨ÇªÇ¬Ç®Ç±Ç´Ç¶-Ç¸ÇºÇ¼Ç¾ÈÈÈÈÈÈÈÈÈÈÈÈÈÈÈÈÈ È¢È¤È¦È¨ÈªÈ¬È®È°È²ÈºÈ»È½È¾ÉÉ-ÉÉÉÉÉÍ°Í²Í¶ÎÎ-ÎÎÎÎÎ-Î¡Î£-Î«ÏÏ-ÏÏÏÏÏÏ Ï¢Ï¤Ï¦Ï¨ÏªÏ¬Ï®Ï´Ï·Ï¹ÏºÏ½-Ð¯Ñ Ñ¢Ñ¤Ñ¦Ñ¨ÑªÑ¬Ñ®Ñ°Ñ²Ñ´Ñ¶Ñ¸ÑºÑ¼Ñ¾ÒÒÒÒÒÒÒÒÒÒÒÒÒ Ò¢Ò¤Ò¦Ò¨ÒªÒ¬Ò®Ò°Ò²Ò´Ò¶Ò¸ÒºÒ¼Ò¾ÓÓÓÓÓÓÓÓÓÓÓÓÓÓÓÓÓ Ó¢Ó¤Ó¦Ó¨ÓªÓ¬Ó®Ó°Ó²Ó´Ó¶Ó¸ÓºÓ¼Ó¾ÔÔÔÔÔÔÔÔÔÔÔÔÔÔÔÔÔ Ô¢Ô¤Ô¦Ô±-Õá -áááá¸á¸á¸á¸á¸á¸á¸á¸á¸á¸á¸á¸á¸á¸á¸á¸á¸ á¸¢á¸¤á¸¦á¸¨á¸ªá¸¬á¸®á¸°á¸²á¸´á¸¶á¸¸á¸ºá¸¼á¸¾á¹á¹á¹á¹á¹á¹á¹á¹á¹á¹á¹á¹á¹á¹á¹á¹á¹ á¹¢á¹¤á¹¦á¹¨á¹ªá¹¬á¹®á¹°á¹²á¹´á¹¶á¹¸á¹ºá¹¼á¹¾áºáºáºáºáºáºáºáºáºáºáºáºáº áº¢áº¤áº¦áº¨áºªáº¬áº®áº°áº²áº´áº¶áº¸áººáº¼áº¾á»á»á»á»á»á»á»á»á»á»á»á»á»á»á»á»á» á»¢á»¤á»¦á»¨á»ªá»¬á»®á»°á»²á»´á»¶á»¸á»ºá»¼á»¾á¼-á¼á¼-á¼á¼¨-á¼¯á¼¸-á¼¿á½-á½á½á½á½á½á½¨-á½¯á¾¸-á¾»á¿-á¿á¿-á¿á¿¨-á¿¬á¿¸-á¿»âââ-ââ-âââ-ââ¤â¦â¨âª-â­â°-â³â¾â¿âââ°-â°®â± â±¢-â±¤â±§â±©â±«â±­-â±°â±²â±µâ±¾-â²â²â²â²â²â²â²â²â²â²â²â²â²â²â²â²â² â²¢â²¤â²¦â²¨â²ªâ²¬â²®â²°â²²â²´â²¶â²¸â²ºâ²¼â²¾â³â³â³â³â³â³â³â³â³â³â³â³â³â³â³â³â³ â³¢â³«â³­â³²êêêêêêêêêêêêêêêêê ê¢ê¤ê¦ê¨êªê¬êêêêêêêêêêêêê¢ê¤ê¦ê¨êªê¬ê®ê²ê´ê¶ê¸êºê¼ê¾êêêêêêêêêêêêêêêêê ê¢ê¤ê¦ê¨êªê¬ê®ê¹ê»ê½ê¾êêêêêêêêê ê¢ê¤ê¦ê¨êªï¼¡-ï¼º"},{name:"M",alias:"Mark",bmp:"Ì-Í¯Ò-ÒÖ-Ö½Ö¿×××××Ø-ØÙ-ÙÙ°Û-ÛÛ-Û¤Û§Û¨Ûª-Û­ÜÜ°-ÝÞ¦-Þ°ß«-ß³à -à à -à £à ¥-à §à ©-à ­à¡-à¡à£¤-à£¾à¤-à¤à¤º-à¤¼à¤¾-à¥à¥-à¥à¥¢à¥£à¦-à¦à¦¼à¦¾-à§à§à§à§-à§à§à§¢à§£à¨-à¨à¨¼à¨¾-à©à©à©à©-à©à©à©°à©±à©µàª-àªàª¼àª¾-à«à«-à«à«-à«à«¢à«£à¬-à¬à¬¼à¬¾-à­à­à­à­-à­à­à­à­¢à­£à®à®¾-à¯à¯-à¯à¯-à¯à¯à°-à°à°¾-à±à±-à±à±-à±à±à±à±¢à±£à²à²à²¼à²¾-à³à³-à³à³-à³à³à³à³¢à³£à´à´à´¾-àµàµ-àµàµ-àµàµàµ¢àµ£à¶à¶à·à·-à·à·à·-à·à·²à·³à¸±à¸´-à¸ºà¹-à¹àº±àº´-àº¹àº»àº¼à»-à»à¼à¼à¼µà¼·à¼¹à¼¾à¼¿à½±-à¾à¾à¾à¾-à¾à¾-à¾¼à¿á«-á¾á-áá-á á¢-á¤á§-á­á±-á´á-ááá-áá-áá-áá²-á´ááá²á³á´-ááá -á á¢©á¤ -á¤«á¤°-á¤»á¦°-á§á§á§á¨-á¨á©-á©á© -á©¼á©¿á¬-á¬á¬´-á­á­«-á­³á®-á®á®¡-á®­á¯¦-á¯³á°¤-á°·á³-á³á³-á³¨á³­á³²-á³´á·-á·¦á·¼-á·¿â-â°â³¯-â³±âµ¿â· -â·¿ãª-ã¯ããê¯-ê²ê´-ê½êê°ê±ê ê ê ê £-ê §ê¢ê¢ê¢´-ê£ê£ -ê£±ê¤¦-ê¤­ê¥-ê¥ê¦-ê¦ê¦³-ê§ê¨©-ê¨¶ê©ê©ê©ê©»êª°êª²-êª´êª·êª¸êª¾êª¿ê«ê««-ê«¯ê«µê«¶ê¯£-ê¯ªê¯¬ê¯­ï¬ï¸-ï¸ï¸ -ï¸¦"},{name:"Mc",alias:"Spacing_Mark",bmp:"à¤à¤»à¤¾-à¥à¥-à¥à¥à¥à¦à¦à¦¾-à§à§à§à§à§à§à¨à¨¾-à©àªàª¾-à«à«à«à«à¬à¬à¬¾à­à­à­à­à­à­à®¾à®¿à¯à¯à¯-à¯à¯-à¯à¯à°-à°à±-à±à²à²à²¾à³-à³à³à³à³à³à³à³à´à´à´¾-àµàµ-àµàµ-àµàµà¶à¶à·-à·à·-à·à·²à·³à¼¾à¼¿à½¿á«á¬á±á¸á»á¼ááá¢-á¤á§-á­ááá-ááá-áá¶á¾-áááá¤£-á¤¦á¤©-á¤«á¤°á¤±á¤³-á¤¸á¦°-á§á§á§á¨-á¨á©á©á©¡á©£á©¤á©­-á©²á¬á¬µá¬»á¬½-á­á­á­á®á®¡á®¦á®§á®ªá®¬á®­á¯§á¯ª-á¯¬á¯®á¯²á¯³á°¤-á°«á°´á°µá³¡á³²á³³ã®ã¯ê £ê ¤ê §ê¢ê¢ê¢´-ê£ê¥ê¥ê¦ê¦´ê¦µê¦ºê¦»ê¦½-ê§ê¨¯ê¨°ê¨³ê¨´ê©ê©»ê««ê«®ê«¯ê«µê¯£ê¯¤ê¯¦ê¯§ê¯©ê¯ªê¯¬"},{name:"Me",alias:"Enclosing_Mark",bmp:"ÒÒâ-â â¢-â¤ê°-ê²"},{name:"Mn",alias:"Nonspacing_Mark",bmp:"Ì-Í¯Ò-ÒÖ-Ö½Ö¿×××××Ø-ØÙ-ÙÙ°Û-ÛÛ-Û¤Û§Û¨Ûª-Û­ÜÜ°-ÝÞ¦-Þ°ß«-ß³à -à à -à £à ¥-à §à ©-à ­à¡-à¡à£¤-à£¾à¤-à¤à¤ºà¤¼à¥-à¥à¥à¥-à¥à¥¢à¥£à¦à¦¼à§-à§à§à§¢à§£à¨à¨à¨¼à©à©à©à©à©-à©à©à©°à©±à©µàªàªàª¼à«-à«à«à«à«à«¢à«£à¬à¬¼à¬¿à­-à­à­à­à­¢à­£à®à¯à¯à°¾-à±à±-à±à±-à±à±à±à±¢à±£à²¼à²¿à³à³à³à³¢à³£àµ-àµàµàµ¢àµ£à·à·-à·à·à¸±à¸´-à¸ºà¹-à¹àº±àº´-àº¹àº»àº¼à»-à»à¼à¼à¼µà¼·à¼¹à½±-à½¾à¾-à¾à¾à¾à¾-à¾à¾-à¾¼à¿á­-á°á²-á·á¹áºá½á¾ááá-á á±-á´áááááá-áá-áá²-á´ááá²á³á´áµá·-á½áá-ááá -á á¢©á¤ -á¤¢á¤§á¤¨á¤²á¤¹-á¤»á¨á¨á©á©-á©á© á©¢á©¥-á©¬á©³-á©¼á©¿á¬-á¬á¬´á¬¶-á¬ºá¬¼á­á­«-á­³á®á®á®¢-á®¥á®¨á®©á®«á¯¦á¯¨á¯©á¯­á¯¯-á¯±á°¬-á°³á°¶á°·á³-á³á³-á³ á³¢-á³¨á³­á³´á·-á·¦á·¼-á·¿â-ââ¡â¥-â°â³¯-â³±âµ¿â· -â·¿ãª-ã­ããê¯ê´-ê½êê°ê±ê ê ê ê ¥ê ¦ê£ê£ -ê£±ê¤¦-ê¤­ê¥-ê¥ê¦-ê¦ê¦³ê¦¶-ê¦¹ê¦¼ê¨©-ê¨®ê¨±ê¨²ê¨µê¨¶ê©ê©êª°êª²-êª´êª·êª¸êª¾êª¿ê«ê«¬ê«­ê«¶ê¯¥ê¯¨ê¯­ï¬ï¸-ï¸ï¸ -ï¸¦"},{name:"N",alias:"Number",bmp:"0-9Â²Â³Â¹Â¼-Â¾Ù -Ù©Û°-Û¹ß-ßà¥¦-à¥¯à§¦-à§¯à§´-à§¹à©¦-à©¯à«¦-à«¯à­¦-à­¯à­²-à­·à¯¦-à¯²à±¦-à±¯à±¸-à±¾à³¦-à³¯àµ¦-àµµà¹-à¹à»-à»à¼ -à¼³á-áá-áá©-á¼á®-á°á -á©á°-á¹á -á á¥-á¥á§-á§áª-áªáª-áªá­-á­á®°-á®¹á±-á±á±-á±â°â´-â¹â-ââ-ââ-ââ -ââª-â¿â¶-ââ³½ãã¡-ã©ã¸-ãºã-ãã -ã©ã-ãã-ãã-ãã±-ã¿ê -ê©ê¦-ê¯ê °-ê µê£-ê£ê¤-ê¤ê§-ê§ê©-ê©ê¯°-ê¯¹ï¼-ï¼"},{name:"Nd",alias:"Decimal_Number",bmp:"0-9Ù -Ù©Û°-Û¹ß-ßà¥¦-à¥¯à§¦-à§¯à©¦-à©¯à«¦-à«¯à­¦-à­¯à¯¦-à¯¯à±¦-à±¯à³¦-à³¯àµ¦-àµ¯à¹-à¹à»-à»à¼ -à¼©á-áá-áá -á©á -á á¥-á¥á§-á§áª-áªáª-áªá­-á­á®°-á®¹á±-á±á±-á±ê -ê©ê£-ê£ê¤-ê¤ê§-ê§ê©-ê©ê¯°-ê¯¹ï¼-ï¼"},{name:"Nl",alias:"Letter_Number",bmp:"á®-á°â -ââ-âãã¡-ã©ã¸-ãºê¦-ê¯"},{name:"No",alias:"Other_Number",bmp:"Â²Â³Â¹Â¼-Â¾à§´-à§¹à­²-à­·à¯°-à¯²à±¸-à±¾àµ°-àµµà¼ª-à¼³á©-á¼á°-á¹á§â°â´-â¹â-ââ-âââ -ââª-â¿â¶-ââ³½ã-ãã -ã©ã-ãã-ãã-ãã±-ã¿ê °-ê µ"},{name:"P",alias:"Punctuation",bmp:"!-#%-\\x2A,-/:;\\x3F@\\x5B-\\x5D_\\x7B}Â¡Â§Â«Â¶Â·Â»Â¿Í¾ÎÕ-ÕÖÖÖ¾××××³×´ØØØØØØØÙª-Ù­ÛÜ-Üß·-ß¹à °-à ¾à¡à¥¤à¥¥à¥°à«°à·´à¹à¹à¹à¼-à¼à¼à¼º-à¼½à¾à¿-à¿à¿à¿á-áá»á -á¨áá­á®ááá«-á­áµá¶á-áá-áá -á á¥á¥á¨á¨áª -áª¦áª¨-áª­á­-á­ á¯¼-á¯¿á°»-á°¿á±¾á±¿á³-á³á³â-â§â°-ââ-ââ-ââ½â¾âââ©âªâ¨-âµâââ¦-â¯â¦-â¦â§-â§â§¼â§½â³¹-â³¼â³¾â³¿âµ°â¸-â¸®â¸°-â¸»ã-ãã-ãã-ãã°ã½ã ã»ê¾ê¿ê-êê³ê¾ê²-ê·ê¡´-ê¡·ê£ê£ê£¸-ê£ºê¤®ê¤¯ê¥ê§-ê§ê§ê§ê©-ê©ê«ê«ê«°ê«±ê¯«ï´¾ï´¿ï¸-ï¸ï¸°-ï¹ï¹-ï¹¡ï¹£ï¹¨ï¹ªï¹«ï¼-ï¼ï¼-ï¼ï¼-ï¼ï¼ï¼ï¼ï¼ ï¼»-ï¼½ï¼¿ï½ï½ï½-ï½¥"},{name:"Pc",alias:"Connector_Punctuation",bmp:"_â¿ââï¸³ï¸´ï¹-ï¹ï¼¿"},{name:"Pd",alias:"Dash_Punctuation",bmp:"\\x2DÖÖ¾áá â-ââ¸â¸â¸ºâ¸»ãã°ã ï¸±ï¸²ï¹ï¹£ï¼"},{name:"Pe",alias:"Close_Punctuation",bmp:"\\x29\\x5D}à¼»à¼½áââ¾ââªâ©â«â­â¯â±â³âµââ§â©â«â­â¯â¦â¦â¦â¦â¦â¦â¦â¦â¦â¦â¦â§â§â§½â¸£â¸¥â¸§â¸©ãããããããããããï´¿ï¸ï¸¶ï¸¸ï¸ºï¸¼ï¸¾ï¹ï¹ï¹ï¹ï¹ï¹ï¹ï¼ï¼½ï½ï½ ï½£"},{name:"Pf",alias:"Final_Punctuation",bmp:"Â»âââºâ¸â¸â¸â¸â¸â¸¡"},{name:"Pi",alias:"Initial_Punctuation",bmp:"Â«âââââ¹â¸â¸â¸â¸â¸â¸ "},{name:"Po",alias:"Other_Punctuation",bmp:"!-#%-'\\x2A,\\x2E/:;\\x3F@\\x5CÂ¡Â§Â¶Â·Â¿Í¾ÎÕ-ÕÖ××××³×´ØØØØØØØÙª-Ù­ÛÜ-Üß·-ß¹à °-à ¾à¡à¥¤à¥¥à¥°à«°à·´à¹à¹à¹à¼-à¼à¼à¾à¿-à¿à¿à¿á-áá»á -á¨á­á®á«-á­áµá¶á-áá-áá -á á -á á¥á¥á¨á¨áª -áª¦áª¨-áª­á­-á­ á¯¼-á¯¿á°»-á°¿á±¾á±¿á³-á³á³âââ -â§â°-â¸â»-â¾â-ââ-âââ-ââ³¹-â³¼â³¾â³¿âµ°â¸â¸â¸-â¸â¸â¸-â¸â¸â¸â¸â¸â¸â¸ª-â¸®â¸°-â¸¹ã-ãã½ã»ê¾ê¿ê-êê³ê¾ê²-ê·ê¡´-ê¡·ê£ê£ê£¸-ê£ºê¤®ê¤¯ê¥ê§-ê§ê§ê§ê©-ê©ê«ê«ê«°ê«±ê¯«ï¸-ï¸ï¸ï¸°ï¹ï¹ï¹-ï¹ï¹-ï¹ï¹-ï¹ï¹-ï¹¡ï¹¨ï¹ªï¹«ï¼-ï¼ï¼-ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ ï¼¼ï½¡ï½¤ï½¥"},{name:"Ps",alias:"Open_Punctuation",bmp:"\\x28\\x5B\\x7Bà¼ºà¼¼áââââ½ââ©â¨âªâ¬â®â°â²â´ââ¦â¨âªâ¬â®â¦â¦â¦â¦â¦â¦â¦â¦â¦â¦â¦â§â§â§¼â¸¢â¸¤â¸¦â¸¨ããããããããããï´¾ï¸ï¸µï¸·ï¸¹ï¸»ï¸½ï¸¿ï¹ï¹ï¹ï¹ï¹ï¹ï¼ï¼»ï½ï½ï½¢"},{name:"S",alias:"Symbol",bmp:"\\x24\\x2B<->\\x5E`\\x7C~Â¢-Â¦Â¨Â©Â¬Â®-Â±Â´Â¸ÃÃ·Ë-ËË-ËË¥-Ë«Ë­Ë¯-Ë¿ÍµÎÎÏ¶ÒÖØ-ØØØØÛÛ©Û½Û¾ß¶à§²à§³à§ºà§»à«±à­°à¯³-à¯ºà±¿àµ¹à¸¿à¼-à¼à¼à¼-à¼à¼-à¼à¼´à¼¶à¼¸à¾¾-à¿à¿-à¿à¿à¿à¿-à¿ááá-ááá¥á§-á§¿á­¡-á­ªá­´-á­¼á¾½á¾¿-á¿á¿-á¿á¿-á¿á¿­-á¿¯á¿½á¿¾âââº-â¼â-ââ -âºâââ-âââââ-ââ-â£â¥â§â©â®âºâ»â-ââ-âââ-â¨â«-â³â-â¦â-ââ-â©â-â¿â-â§â-ââ-â¥â°-â¦â¦-â§â§-â§»â§¾-â­â­-â­â³¥-â³ªâº-âºâº-â»³â¼-â¿â¿°-â¿»ãããã ã¶ã·ã¾ã¿ããããã-ãã-ã£ã-ããª-ããã -ã¿ã-ã°ã-ã¾ã-ã¿ä·-ä·¿ê-êê-êê ê¡êêê ¨-ê «ê ¶-ê ¹ê©·-ê©¹ï¬©ï®²-ï¯ï·¼ï·½ï¹¢ï¹¤-ï¹¦ï¹©ï¼ï¼ï¼-ï¼ï¼¾ï½ï½ï½ï¿ -ï¿¦ï¿¨-ï¿®ï¿¼ï¿½"},{name:"Sc",alias:"Currency_Symbol",bmp:"\\x24Â¢-Â¥ÖØà§²à§³à§»à«±à¯¹à¸¿áâ -âºê ¸ï·¼ï¹©ï¼ï¿ ï¿¡ï¿¥ï¿¦"},{name:"Sk",alias:"Modifier_Symbol",bmp:"\\x5E`Â¨Â¯Â´Â¸Ë-ËË-ËË¥-Ë«Ë­Ë¯-Ë¿ÍµÎÎá¾½á¾¿-á¿á¿-á¿á¿-á¿á¿­-á¿¯á¿½á¿¾ããê-êê ê¡êêï®²-ï¯ï¼¾ï½ï¿£"},{name:"Sm",alias:"Math_Symbol",bmp:"\\x2B<->\\x7C~Â¬Â±ÃÃ·Ï¶Ø-Øâââº-â¼â-âââ-âââ-ââââ â£â¦â®âââââ´-â¿â-ââ â¡â¼â-â³â-â¡â·ââ¸-â¿â¯â-ââ-â¥â°-â¿â¤-â¦â¦-â§â§-â§»â§¾-â«¿â¬°-â­â­-â­ï¬©ï¹¢ï¹¤-ï¹¦ï¼ï¼-ï¼ï½ï½ï¿¢ï¿©-ï¿¬"},{name:"So",alias:"Other_Symbol",bmp:"Â¦Â©Â®Â°ÒØØÛÛ©Û½Û¾ß¶à§ºà­°à¯³-à¯¸à¯ºà±¿àµ¹à¼-à¼à¼à¼-à¼à¼-à¼à¼´à¼¶à¼¸à¾¾-à¿à¿-à¿à¿à¿à¿-à¿ááá-áá¥á§-á§¿á­¡-á­ªá­´-á­¼âââ-âââââââ-â£â¥â§â©â®âºâ»âââââ-ââ-ââ¡â¢â¤â¥â§-â­â¯-âââââ-â³â-ââ-ââ¢-â¨â«-â»â½-ââ´-ââ¢-â³â-â¦â-ââ-â©â-â¶â¸-ââ-â·â-â®â°-â¿â-â§â-â¿â -â£¿â¬-â¬¯â­â­â­-â­â³¥-â³ªâº-âºâº-â»³â¼-â¿â¿°-â¿»ãããã ã¶ã·ã¾ã¿ããã-ãã-ã£ã-ããª-ããã -ã¿ã-ã°ã-ã¾ã-ã¿ä·-ä·¿ê-êê ¨-ê «ê ¶ê ·ê ¹ê©·-ê©¹ï·½ï¿¤ï¿¨ï¿­ï¿®ï¿¼ï¿½"},{name:"Z",alias:"Separator",bmp:" Â áá â-â\u2028\u2029â¯âã"},{name:"Zl",alias:"Line_Separator",bmp:"\u2028"},{name:"Zp",alias:"Paragraph_Separator",bmp:"\u2029"},{name:"Zs",alias:"Space_Separator",bmp:" Â áá â-ââ¯âã"}])}(XRegExp),function(e){"use strict";if(!e.addUnicodeData)throw new ReferenceError("Unicode Base must be loaded before Unicode Zotero");e.addUnicodeData([{name:"WSpace",alias:"White_Space",bmp:"	-\r ÂÂ áá â-â\u2028\u2029â¯âã"},{name:"Hex",alias:"Hex_Digit",bmp:"0-9A-Fa-fï¼-ï¼ï¼¡-ï¼¦ï½-ï½"},{name:"Dash",bmp:"-ÖÖ¾á â-âââ»âââ¸â¸ãã°ã ï¸±-ï¸²ï¹ï¹£ï¼"},{name:"Hyphen",bmp:"-Â­Öá â-ââ¸ã»ï¹£ï¼ï½¥"},{name:"QMark",alias:"Quotation_Mark",bmp:"\"'Â«Â»ââââ-âââââ¹âºãããããã-ãï¹ï¹ï¹ï¹ï¼ï¼ï½¢ï½£"},{name:"Term",alias:"Terminal_Punctuation",bmp:"!,.:-;?Í¾ÎÖ×ØØØÛÜ-ÜÜß¸-ß¹à¥¤-à¥¥à¹-à¹à¼à¼-à¼á-áá¡-á¨á­-á®á«-á­á-ááá -á á -á á¥-á¥á­-á­á­-á­á°»-á°¿á±¾-á±¿â¼-â½â-ââ¸®ã-ãê-êê¡¶-ê¡·ê£-ê£ê¤¯ê©-ê©ï¹-ï¹ï¹-ï¹ï¼ï¼ï¼ï¼-ï¼ï¼ï½¡ï½¤á¹Fá½0áFá0-á3"}])}(XRegExp);const CSL_NAMES_MAPPINGS={author:"author",editor:"editor",bookAuthor:"container-author",composer:"composer",director:"director",interviewer:"interviewer",recipient:"recipient",reviewedAuthor:"reviewed-author",seriesEditor:"collection-editor",translator:"translator"},CSL_TEXT_MAPPINGS={title:["title"],"container-title":["publicationTitle","reporter","code"],"collection-title":["seriesTitle","series"],"collection-number":["seriesNumber"],publisher:["publisher","distributor"],"publisher-place":["place"],authority:["court"],page:["pages"],volume:["volume"],issue:["issue"],"number-of-volumes":["numberOfVolumes"],"number-of-pages":["numPages"],edition:["edition"],version:["version"],section:["section"],genre:["type"],source:["libraryCatalog"],dimensions:["artworkSize","runningTime"],medium:["medium","system"],scale:["scale"],archive:["archive"],archive_location:["archiveLocation"],event:["meetingName","conferenceName"],"event-place":["place"],"abstract":["abstractNote"],URL:["url"],DOI:["DOI"],ISBN:["ISBN"],ISSN:["ISSN"],"call-number":["callNumber"],note:["extra"],number:["number"],references:["history"],shortTitle:["shortTitle"],journalAbbreviation:["journalAbbreviation"],language:["language"]},CSL_DATE_MAPPINGS={issued:"date",accessed:"accessDate"},CSL_TYPE_MAPPINGS={book:"book",bookSection:"chapter",journalArticle:"article-journal",magazineArticle:"article-magazine",newspaperArticle:"article-newspaper",thesis:"thesis",encyclopediaArticle:"entry-encyclopedia",dictionaryEntry:"entry-dictionary",conferencePaper:"paper-conference",letter:"personal_communication",manuscript:"manuscript",interview:"interview",film:"motion_picture",artwork:"graphic",webpage:"webpage",report:"report",bill:"bill","case":"legal_case",hearing:"bill",patent:"patent",statute:"legislation",email:"personal_communication",map:"map",blogPost:"post-weblog",instantMessage:"personal_communication",forumPost:"post",audioRecording:"song",presentation:"speech",videoRecording:"motion_picture",tvBroadcast
:"broadcast",radioBroadcast:"broadcast",podcast:"song",computerProgram:"book"};Zotero.Utilities={cleanAuthor:function(e,t,n){var r="A-ZÐ-Ð¯",i=new RegExp("^["+r+"]+$"),s=new RegExp("^-?["+r+"]$");if(typeof e!="string")throw"cleanAuthor: author must be a string";e=e.replace(/^[\s\u00A0\.\,\/\[\]\:]+/,"").replace(/[\s\u00A0\.\,\/\[\]\:]+$/,"").replace(/[\s\u00A0]+/," ");if(n){e=e.replace(/\.([^ ])/,". $1");var o=e.split(/, ?/);if(o.length>1)var u=o[0],a=o[1];else var u=e}else var f=e.lastIndexOf(" "),u=e.substring(f+1),a=e.substring(0,f);if(a&&i.test(a)&&a.length<4&&(a.length==1||u.toUpperCase()!=u)){var l="";for(var c=0;c<a.length;c++)l+=" "+a[c]+".";a=l.substr(1)}if(a){var h=a.replace(/^[\s\.]+/,"").replace(/[\s\,]+$/,"").replace(/\s*([\u002D\u00AD\u2010-\u2015\u2212\u2E3A\u2E3B])\s*/,"-").split(/(?:[\s\.]+|(?=-))/),l="";for(var c=0,p=h.length;c<p;c++)l+=h[c],s.test(h[c])&&(l+="."),l+=" ";a=l.replace(/ -/g,"-").trim()}return{firstName:a,lastName:u,creatorType:t}},trim:function(e){if(typeof e!="string")throw"trim: argument must be a string";return e=e.replace(/^\s+/,""),e.replace(/\s+$/,"")},trimInternal:function(e){if(typeof e!="string")throw"trimInternal: argument must be a string";return e=e.replace(/[\xA0\r\n\s]+/g," "),this.trim(e)},superCleanString:function(e){if(typeof e!="string")throw"superCleanString: argument must be a string";var e=e.replace(/^[\x00-\x27\x29-\x2F\x3A-\x40\x5B-\x60\x7B-\x7F\s]+/,"");return e.replace(/[\x00-\x28\x2A-\x2F\x3A-\x40\x5B-\x60\x7B-\x7F\s]+$/,"")},cleanTags:function(e){if(typeof e!="string")throw"cleanTags: argument must be a string";return e=e.replace(/<br[^>]*>/gi,"\n"),e.replace(/<[^>]+>/g,"")},cleanDOI:function(e){if(typeof e!="string")throw"cleanDOI: argument must be a string";var t=e.match(/10\.[0-9]{4,}\/[^\s]*[^\s\.,]/);return t?t[0]:null},cleanISBN:function(e){e=e.replace(/[^0-9a-z]+/ig,"").toUpperCase().match(/(?:97[89][0-9]{10}|[0-9]{9}[0-9X])/);if(!e)return!1;e=e[0];if(e.length==10){var t=0;for(var n=0;n<9;n++){if(e[n]=="X")return!1;t+=e[n]*(10-n)}return t+=e[9]=="X"?10:e[9]*1,t%11==0?e:!1}if(e.length==13){var t=0;for(var n=0;n<12;n+=2)t+=e[n]*1;for(var n=1;n<12;n+=2)t+=e[n]*3;return t+=e[12]*1,t%10==0?e:!1}return!1},cleanISSN:function(e){e=e.replace(/[^0-9a-z]+/ig,"").toUpperCase().match(/[0-9]{7}[0-9X]/);if(!e)return!1;e=e[0];var t=0;for(var n=0;n<7;n++){if(e[n]=="X")return!1;t+=e[n]*(8-n)}return t+=e[9]=="X"?10:e[9]*1,t%11==0?e.substring(0,4)+"-"+e.substring(4):!1},text2html:function(e,t){return e=Zotero.Utilities.htmlSpecialChars(e),t?e="<p>"+e.replace(/\n/g,"</p><p>").replace(/  /g,"&nbsp; ")+"</p>":e="<p>"+e.replace(/\n\n/g,"</p><p>").replace(/\n/g,"<br/>").replace(/  /g,"&nbsp; ")+"</p>",e.replace(/<p>\s*<\/p>/g,"<p>&nbsp;</p>")},htmlSpecialChars:function(e){return typeof e!="string"&&(e=e.toString()),e?e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/&lt;ZOTERO([^\/]+)\/&gt;/g,function(e,t,n,r){switch(t){case"BREAK":return"<br/>";case"HELLIP":return"&#8230;";default:return t}}):""},unescapeHTML:new function(){var e,t;return function(e){if(e.indexOf("<")===-1&&e.indexOf("&")===-1)return e;if(Zotero.isFx&&!Zotero.isBookmarklet){if(t===undefined){var n=Components.classes["@mozilla.org/xmlextras/domparser;1"].createInstance(Components.interfaces.nsIDOMParser),r=n.parseFromString("<!DOCTYPE html><html></html>","text/html");t=r.createElement("div")}return t.innerHTML=e,t.textContent.replace(/ {2,}/g," ")}return Zotero.isNode?Zotero.Utilities.cleanTags(e):(t||(t=document.createElement("div")),t.innerHTML=e,("textContent"in t?t.textContent:t.innerText).replace(/ {2,}/g," "))}},autoLink:function(e){return e=e.replace(/([^>])(https?:\/\/[^\s]+)([\."'>:\]\)](\s|$))/g,'$1<a href="$2">$2</a>$3'),e=e.replace(/([^">])(https?:\/\/[^\s]+)(\s|$)/g,'$1<a href="$2">$2</a>$3'),e=e.replace(/(doi:[ ]*)(10\.[^\s]+[0-9a-zA-Z])/g,'$1<a href="http://dx.doi.org/$2">$2</a>'),e},parseMarkup:function(e){var t=[],n=e.split(/(<a [^>]+>[^<]*<\/a>)/);for(var r=0;r<n.length;r++){if(n[r].indexOf("<a ")==0){var i=n[r].match(/<a ([^>]+)>([^<]*)<\/a>/);if(i){var s={},o=i[1].match(/([^ =]+)="([^"]+")/g);for(var u=0;u<o.length;u++){var a=o[u].split(/=/);s[a[0]]=a[1].substr(1,a[1].length-2)}t.push({type:"link",text:i[2],attributes:s});continue}}t.push({type:"text",text:n[r]})}return t},levenshtein:function(e,t){var n=e.length,r=t.length,i=new Array(n+1),s,o,u;for(s=0;s<=n;s++)i[s]=new Array(r),i[s][0]=s;for(o=0;o<=r;o++)i[0][o]=o;for(s=1;s<=n;s++)for(o=1;o<=r;o++)u=e[s-1]==t[o-1]?0:1,i[s][o]=Math.min(i[s-1][o]+1,Math.min(i[s][o-1]+1,i[s-1][o-1]+u));return i[n][r]},isEmpty:function(e){for(var t in e)return!1;return!0},arrayDiff:function(e,t,n){if(!Array.isArray(e))throw"array1 is not an array ("+e+")";if(!Array.isArray(t))throw"array2 is not an array ("+t+")";var r,i,s=[];for(var o=0;o<e.length;o++)r=e[o],i=t.indexOf(r),i==-1&&s.push(n?i:r);return s},arrayUnique:function(e){var t=[],n=e.length;for(var r=0;r<n;r++){for(var i=r+1;i<n;i++)e[r]===e[i]&&(i=++r);t.push(e[r])}return t},rand:function(e,t){return Math.floor(Math.random()*(t-e+1))+e},getPageRange:function(e){const t=/^\s*([0-9]+) ?[-\u2013] ?([0-9]+)\s*$/;var n,r=t.exec(e);return r?n=[r[1],r[2]]:n=[e,e],n},lpad:function(e,t,n){e=e?e+"":"";while(e.length<n)e=t+e;return e},ellipsize:function(e,t,n){if(!t)throw"Length not specified in Zotero.Utilities.ellipsize()";return e.length>t?e.substr(0,t)+"â¦"+(n?" ("+e.length+" chars)":""):e},numberFormat:function(e,t,n,r){var i=e,s=isNaN(t=Math.abs(t))?2:t,o=n==undefined?".":n,u=r==undefined?",":r,a=i<0?"-":"",f=parseInt(i=Math.abs(+i||0).toFixed(s))+"",l=(l=f.length)>3?l%3:0;return a+(l?f.substr(0,l)+u:"")+f.substr(l).replace(/(\d{3})(?=\d)/g,"$1"+u)+(s?o+Math.abs(i-f).toFixed(s).slice(2):"")},capitalizeTitle:function(e,t){const n=["but","or","yet","so","for","and","nor","a","an","the","at","by","from","in","into","of","on","to","with","up","down","as"],r=/([ \/\u002D\u00AD\u2010-\u2015\u2212\u2E3A\u2E3B])/;e=this.trimInternal(e),e=e.replace(/ : /g,": ");if(t===!1||!Zotero.Prefs.get("capitalizeTitles")&&!t)return e;if(!e)return"";var i=e.split(r),s=e.toUpperCase()==e,o="",u=i[0].length,a=i.length-1,f=-1;for(var l=0;l<=a;l++){if(i[l].length!=0&&(i[l].length!=1||!r.test(i[l]))){var c=i[l].toUpperCase(),h=i[l].toLowerCase();if(s||i[l]==h)n.indexOf(h.replace(/[^a-zA-Z]+/,""))==-1||l==0||l==a||f!=-1&&i[f][i[f].length-1]==":"?i[l]=c.substr(0,1)+h.substr(1):i[l]=h;f=l}o+=i[l]}return o},removeDiacritics:function(e,t){if(/^[a-zA-Z0-9_-]*$/.test(e))return e;var n=this._diacriticsRemovalMap.lowercase;for(var r=0,i=n.length;r<i;r++)e=e.replace(n[r].letters,n[r].base);if(!t){var n=this._diacriticsRemovalMap.uppercase;for(var r=0,i=n.length;r<i;r++)e=e.replace(n[r].letters,n[r].base)}return e},_diacriticsRemovalMap:{uppercase:[{base:"A",letters:/[\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F]/g},{base:"AA",letters:/[\uA732]/g},{base:"AE",letters:/[\u00C6\u01FC\u01E2]/g},{base:"AO",letters:/[\uA734]/g},{base:"AU",letters:/[\uA736]/g},{base:"AV",letters:/[\uA738\uA73A]/g},{base:"AY",letters:/[\uA73C]/g},{base:"B",letters:/[\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181]/g},{base:"C",letters:/[\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E]/g},{base:"D",letters:/[\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779]/g},{base:"DZ",letters:/[\u01F1\u01C4]/g},{base:"Dz",letters:/[\u01F2\u01C5]/g},{base:"E",letters:/[\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E]/g},{base:"F",letters:/[\u0046\u24BB\uFF26\u1E1E\u0191\uA77B]/g},{base:"G",letters:/[\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E]/g},{base:"H",letters:/[\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D]/g},{base:"I",letters:/[\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197]/g},{base:"J",letters:/[\u004A\u24BF\uFF2A\u0134\u0248]/g},{base:"K",letters:/[\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2]/g},{base:"L",letters:/[\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780]/g},{base:"LJ",letters:/[\u01C7]/g},{base:"Lj",letters:/[\u01C8]/g},{base:"M",letters:/[\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C]/g},{base:"N",letters:/[\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4]/g},{base:"NJ",letters:/[\u01CA]/g},{base:"Nj",letters:/[\u01CB]/g},{base:"O",letters:/[\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C]/g},{base:"OI",letters:/[\u01A2]/g},{base:"OO",letters:/[\uA74E]/g},{base:"OU",letters:/[\u0222]/g},{base:"P",letters:/[\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754]/g},{base:"Q",letters:/[\u0051\u24C6\uFF31\uA756\uA758\u024A]/g},{base:"R",letters:/[\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782]/g},{base:"S",letters:/[\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784]/g},{base:"T",letters:/[\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786]/g},{base:"TZ",letters:/[\uA728]/g},{base:"U",letters:/[\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244]/g},{base:"V",letters:/[\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245]/g},{base:"VY",letters:/[\uA760]/g},{base:"W",letters:/[\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72]/g},{base:"X",letters:/[\u0058\u24CD\uFF38\u1E8A\u1E8C]/g},{base:"Y",letters:/[\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE]/g},{base:"Z",letters:/[\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762]/g}],lowercase:[{base:"a",letters:/[\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250]/g},{base:"aa",letters:/[\uA733]/g},{base:"ae",letters:/[\u00E6\u01FD\u01E3]/g},{base:"ao",letters:/[\uA735]/g},{base:"au",letters:/[\uA737]/g},{base:"av",letters:/[\uA739\uA73B]/g},{base:"ay",letters:/[\uA73D]/g},{base:"b",letters:/[\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253]/g},{base:"c",letters:/[\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184]/g},{base:"d",letters:/[\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A]/g},{base:"dz",letters:/[\u01F3\u01C6]/g},{base:"e",letters:/[\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD]/g},{base:"f",letters:/[\u0066\u24D5\uFF46\u1E1F\u0192\uA77C]/g},{base:"g",letters:/[\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F]/g},{base:"h",letters:/[\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265]/g},{base:"hv",letters:/[\u0195]/g},{base:"i",letters:/[\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131]/g},{base:"j",letters:/[\u006A\u24D9\uFF4A\u0135\u01F0\u0249]/g},{base:"k",letters:/[\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3]/g},{base:"l",letters:/[\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747]/g},{base:"lj",letters:/[\u01C9]/g},{base:"m",letters:/[\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F]/g},{base:"n",letters:/[\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5]/g},{base:"nj",letters:/[\u01CC]/g},{base:"o",letters:/[\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275]/g},{base:"oi",letters:/[\u01A3]/g},{base:"ou",letters:/[\u0223]/g},{base:"oo",letters:/[\uA74F]/g},{base:"p",letters:/[\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755]/g},{base:"q",letters:/[\u0071\u24E0\uFF51\u024B\uA757\uA759]/g},{base:"r",letters:/[\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783]/g},{base:"s",letters:/[\u0073\u24E2\uFF53\u00DF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B]/g},{base:"t",letters:/[\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787]/g},{base:"tz",letters:/[\uA729]/g},{base:"u",letters:/[\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289]/g},{base:"v",letters:/[\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C]/g},{base:"vy",letters:/[\uA761]/g},{base:"w",letters:/[\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73]/g},{base:"x",letters:/[\u0078\u24E7\uFF58\u1E8B\u1E8D]/g},{base:"y",letters:/[\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF]/g},{base:"z",letters:/[\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763]/g}]},processAsync:function(e,t,n){var r,i=0,s=function(){if(!e.length){n();return}i=0,r=e.shift(),t[0](r,o)},o=function(){i++,t[i](r,o)};t[t.length]=function(){s()},s()},deepCopy:function(e){var t=e instanceof Array?[]:{};for(var n in e){if(!e.hasOwnProperty(n))continue;typeof e[n]=="object"&&e[n]!==null?t[n]=Zotero.Utilities.deepCopy(e[n]):t[n]=e[n]}return t},itemTypeExists:function(e){return Zotero.ItemTypes.getID(e)?!0:!1},getCreatorsForType:function(e){var t=Zotero.CreatorTypes.getTypesForItemType(Zotero.ItemTypes.getID(e)),n=new Array;for(var r=0;r<t.length;r++)n.push(t[r].name);return n},fieldIsValidForType:function(e,t){return Zotero.ItemFields.isValidForType(e,Zotero.ItemTypes.getID(t))},getLocalizedCreatorType:function(e){try{return Zotero.CreatorTypes.getLocalizedString(e)}catch(t){return!1}},quotemeta:function(e){if(typeof e!="string")throw"Argument "+e+" must be a string in Zotero.Utilities.quotemeta()";const t=/[-[\]{}()*+?.\\^$|,#\s]/g;return e.replace(t,"\\$&")},xpath:function(e,t,n){var r=null;n&&(r=function(e){return n[e]||null}),"length"in e||(e=[e]);var i=[];for(var s=0,o=e.length;s<o;s++){var u=e[s],a=Zotero.Translate.DOMWrapper&&Zotero.Translate.DOMWrapper.isWrapped(u);a&&(u=Zotero.Translate.DOMWrapper.unwrap(u));if(u.ownerDocument)var f=u.ownerDocument;else{if(!u.documentElement){if(Zotero.isIE&&u.documentElement===null)continue;throw new Error("First argument must be either element(s) or document(s) in Zotero.Utilities.xpath(elements, '"+t+"')")}var f=u}if(!Zotero.isIE||"evaluate"in f){try{var l=f.evaluate(t,u,r,5,null)}catch(c){throw new Error(c.name+": "+c.message)}var h;while(h=l.iterateNext())i.push(a?Zotero.Translate.DOMWrapper.wrap(h):h)}else{if(!("selectNodes"in u))throw new Error("XPath functionality not available");if(n){var p=[];for(var s in n){if(!s)continue;p.push("xmlns:"+s+'="'+Zotero.Utilities.htmlSpecialChars(n[s])+'"')}f.setProperty("SelectionNamespaces",p.join(" "))}var d=u.selectNodes(t);for(var s=0;s<d.length;s++)i.push(d[s])}}return i},xpathText:function(e,t,n,r){var i=Zotero.Utilities.xpath(e,t,n);if(!i.length)return null;var s=new Array(i.length);for(var o=0,u=i.length;o<u;o++){var a=i[o];s[o]=a.nodeType===2&&"value"in a?a.value:"textContent"in a?a.textContent:"innerText"in a?a.innerText:"text"in a?a.text:a.nodeValue}return s.join(r!==undefined?r:", ")},randomString:function(e,t){t||(t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz"),e||(e=8);var n="";for(var r=0;r<e;r++){var i=Math.floor(Math.random()*t.length);n+=t.substring(i,i+1)}return n},varDump:function(e,t,n,r,i){var s="";t===undefined&&(t=0),n===undefined&&(n=4);var o="";for(var u=0;u<t+1;u++)o+="    ";if(t>n)return s+o+"<<Maximum depth reached>>...\n";if(typeof e=="object"){var a=Zotero.isFx&&!Zotero.isBookmarklet&&e instanceof Components.interfaces.nsIRequest;r||(r=[e],i=["ROOT"]);for(var f in e){try{if(a&&f=="name"){s+=o+"'"+f+"' => <<Skipped>>\n";continue}var l=e[f]}catch(c){s+=o+"'"+f+"' => <<Access Denied>>\n";continue}if(typeof l=="object"){var h=r.indexOf(l);if(h!=-1){var p=i.slice(0,h+1).join("->");s+=o+"'"+f+"' => <<Reference to parent object "+p+" >>\n";continue}var d="{",v="}",m=Object.prototype.toString.call(l);m=="[object Array]"&&(d="[",v="]"),s+=o+"'"+f+"' => "+m+" "+d;try{for(var h in l){s+="\n"+Zotero.Utilities.varDump(l,t+1,n,r.concat([l]),i.concat([f]))+o;break}}catch(c){s+="<<Error processing object:\n"+c+">>\n"}s+=v+"\n"}else typeof l=="function"?s+=o+"'"+f+"' => function(...){...} \n":typeof l=="number"?s+=o+"'"+f+"' => "+l+"\n":s+=o+"'"+f+"' => \""+l+'"\n'}}else s="===>"+e+"<===("+typeof e+")";return s},itemToExportFormat:function(e){const t=["creators","notes","tags","seeAlso","attachments"];for(var n=0;n<t.length;n++){var r=t[n];e[r]||(e[r]=[])}e.uniqueFields={};var i=e.itemTypeID?e.itemTypeID:Zotero.ItemTypes.getID(e.itemType),s=Zotero.ItemFields.getItemTypeFields(i);for(var n in s){var o=s[n],u=Zotero.ItemFields.getName(o);if(e[u]!==undefined){var a=Zotero.ItemFields.getBaseIDFromTypeAndField(i,o),f=null;a&&a!=o&&(f=Zotero.ItemFields.getName(a)),f?(e[f]=e[u],e.uniqueFields[f]=e[u]):e.uniqueFields[u]=e[u]}}return e.note&&(e.uniqueFields.note=e.note),e},itemToServerJSON:function(e){var t={},n=Zotero.ItemTypes.getID(e.itemType);n||(Zotero.debug("itemToServerJSON: Invalid itemType "+e.itemType+"; using webpage"),e.itemType="webpage",n=Zotero.ItemTypes.getID(e.itemType));var r,i;for(var s in e){if(s==="complete"||s==="itemID"||s==="attachments"||s==="seeAlso")continue;var o=e[s];if(s==="itemType")t[s]=o;else if(s==="creators"){var u=o.length,a=t.creators=[];for(var f=0;f<u;f++){var l=o[f];if(!l.firstName&&!l.lastName){Zotero.debug("itemToServerJSON: Silently dropping empty creator");continue}if(!l.firstName||l.fieldMode&&l.fieldMode==1)var c={name:l.lastName};else var c={firstName:l.firstName,lastName:l.lastName};l.creatorType&&(Zotero.CreatorTypes.getID(l.creatorType)?c.creatorType=l.creatorType:Zotero.debug("itemToServerJSON: Invalid creator type "+l.creatorType+"; falling back to author")),c.creatorType||(c.creatorType="author"),a.push(c)}}else if(s==="tags"){var u=o.length,h=t.tags=[];for(var f=0;f<u;f++){var p=o[f];if(typeof p=="object")if(p.tag)p=p.tag;else{if(!p.name){Zotero.debug("itemToServerJSON: Discarded invalid tag");continue}p=p.name}else if(p==="")continue;h.push({tag:p.toString(),type:1})}}else if(s==="notes"){var u=o.length,d=t.notes=new Array(u);for(var f=0;f<u;f++){var v=o[f];if(typeof v=="object"){if(!v.note){Zotero.debug("itemToServerJSON: Discarded invalid note");continue}v=v.note}d[f]={itemType:"note",note:v.toString()}}}else if(r=Zotero.ItemFields.getID(s)){if(typeof o!="string"){if(!o&&o!==0)continue;o=o.toString()}if(i=Zotero.ItemFields.getFieldIDFromTypeAndBase(n,r)){var m=Zotero.ItemFields.getName(i);m!==s&&!t[m]&&(t[m]=o);continue}Zotero.ItemFields.isValidForType(r,n)?t[s]=o:Zotero.debug("itemToServerJSON: Discarded field "+s+": field not valid for type "+e.itemType,3)}else Zotero.debug("itemToServerJSON: Discarded unknown field "+s,3)}return t},itemToCSLJSON:function(e){e instanceof Zotero.Item&&(e=e.toArray());var t=e.itemType,n=CSL_TYPE_MAPPINGS[t];n||(n="article");var r={id:e.itemID,type:n},i=Zotero.ItemTypes.getID(t);for(var s in CSL_TEXT_MAPPINGS){var o=CSL_TEXT_MAPPINGS[s];for(var u=0,a=o.length;u<a;u++){var f=o[u],l=undefined;if(f in e)l=e[f];else{var c=Zotero.ItemFields.getID(f),h;Zotero.ItemFields.isValidForType(c,i)&&(h=Zotero.ItemFields.getBaseIDFromTypeAndField(i,c))&&(l=e[Zotero.ItemTypes.getName(h)])}if(!l)continue;var p=l.length;p&&l[0]==='"'&&l[p-1]==='"'&&(l=l.substr(1,p-2)),r[s]=l;break}}var d=Zotero.CreatorTypes.getPrimaryIDForType(e.itemType),v=e.creators;if(v)for(var u=0,a=v.length;u<a;u++){var m=v[u];if(m.creatorTypeID==d)var g="author";else var g=CSL_NAMES_MAPPINGS[m.creatorType];if(!g)continue;if(m.fieldMode==1)var y={literal:m.lastName};else var y={family:m.lastName,given:m.firstName};r[g]?r[g].push(y):r[g]=[y]}for(var s in CSL_DATE_MAPPINGS){var b=e[CSL_DATE_MAPPINGS[s]];if(b){var w=Zotero.Date.strToDate(b),E=[];w.year?(E.push(w.year),w.month!==undefined&&(E.push(w.month+1),w.day&&E.push(w.day)),r[s]={"date-parts":[E]},w.part&&!w.month&&(r[s].season=w.part)):r[s]={literal:b}}}return r},itemFromCSLJSON:function(e,t){var n=e instanceof Zotero.Item,r;for(var i in CSL_TYPE_MAPPINGS)if(CSL_TYPE_MAPPINGS[i]==t.type){r=i;break}r||(r="document");var s=Zotero.ItemTypes.getID(r);n?e.setType(s):(e.itemID=t.id,e.itemType=r);for(var o in CSL_TEXT_MAPPINGS)if(o in t){var u=CSL_TEXT_MAPPINGS[o];for(var a in u){var f=u[a],l=Zotero.ItemFields.getID(f);if(Zotero.ItemFields.isBaseField(l)){var c=Zotero.ItemFields.getFieldIDFromTypeAndBase(s,l);c&&(l=c)}Zotero.ItemFields.isValidForType(l,s)&&(n?e.setField(l,t[o],!0):e[f]=t[o])}}for(var f in CSL_NAMES_MAPPINGS)if(CSL_NAMES_MAPPINGS[f]in t){var h=Zotero.CreatorTypes.getID(f);Zotero.CreatorTypes.isValidForItemType(h,s)||(h=Zotero.CreatorTypes.getPrimaryIDForType(s));var p=t[CSL_NAMES_MAPPINGS[f]];for(var a in p){var d=p[a],v=n?new Zotero.Creator:{};if(d.family||d.given)d.family&&(v.lastName=d.family),d.given&&(v.firstName=d.given);else{if(!d.literal)continue;v.lastName=d.literal,v.fieldMode=1}n?e.setCreator(e.getCreators().length,v,h):(v.creatorType=Zotero.CreatorTypes.getName(h),e.creators.push(v))}}for(var o in CSL_DATE_MAPPINGS)if(o in t){var f=CSL_DATE_MAPPINGS[o],l=Zotero.ItemFields.getID(f),m=t[o],l=Zotero.ItemFields.getID(f);if(Zotero.ItemFields.isBaseField(l)){var c=Zotero.ItemFields.getFieldIDFromTypeAndBase(s,l);c&&(l=c)}if(Zotero.ItemFields.isValidForType(l,s)){var g="";if(m.literal)o==="accessed"?g=strToISO(m.literal):g=m.literal;else{var y=Zotero.Utilities.deepCopy(m);m["date-parts"]&&typeof m["date-parts"]=="object"&&m["date-parts"]!==null&&typeof m["date-parts"][0]=="object"&&m["date-parts"][0]!==null&&(m["date-parts"][0][0]&&(y.year=m["date-parts"][0][0]),m["date-parts"][0][1]&&(y.month=m["date-parts"][0][1]),m["date-parts"][0][2]&&(y.day=m["date-parts"][0][2]));if(y.year)if(o==="accessed"){var g=Zotero.Utilities.lpad(y.year,"0",4);y.month&&(g+="-"+Zotero.Utilities.lpad(y.month,"0",2),y.day&&(g+="-"+Zotero.Utilities.lpad(y.day,"0",2)))}else y.month&&y.month--,g=Zotero.Date.formatDate(y),y.season&&(g=y.season+" "+g)}n?e.setField(l,g):e[f]=g}}},resolveIntermediateURL:function(e){var t=[{regexp:/^https?:\/\/(www.)?google\.(com|(com?\.)?[a-z]{2})\/url\?/,variable:"url"}];for(var n=0,r=t.length;n<r;n++){if(!e.match(t[n].regexp))continue;var i=e.match(new RegExp("&"+t[n].variable+"=(.+?)(&|$)"));if(!i)continue;return decodeURIComponent(i[1])}return e},stringToUTF8Array:function(e,t,n){n||(n=0);var r=e.length;for(var i=0;i<r;i++){var s=e.charCodeAt(i);s>=128?s>=2048?(t[n]=s>>>12|224,t[n+1]=s>>>6&63|128,t[n+2]=s&63|128,n+=3):(t[n]=s>>>6|192,t[n+1]=s&63|128,n+=2):t[n++]=s}},getStringByteLength:function(e){var t=0,n=e.length;for(var r=0;r<n;r++){var i=e.charCodeAt(r);i>=128?i>=2048?t+=3:t+=2:t+=1}return t},determineAttachmentIcon:function(e){return e.linkMode==="linked_url"?Zotero.ItemTypes.getImageSrc("attachment-web-link"):Zotero.ItemTypes.getImageSrc(e.mimeType==="application/pdf"?"attachment-pdf":"attachment-snapshot")},XRegExp:XRegExp};const MESSAGE_SEPARATOR=".",MESSAGES={Translators:{get:{preSend:function(e){return[Zotero.Translators.serialize(e,TRANSLATOR_PASSING_PROPERTIES)]}},getAllForType:{preSend:function(e){return[Zotero.Translators.serialize(e,TRANSLATOR_PASSING_PROPERTIES)]},callbackArg:1},getWebTranslatorsForLocation:{preSend:function(e){return[[Zotero.Translators.serialize(e[0],TRANSLATOR_PASSING_PROPERTIES),e[1]]]},postReceive:function(e){return[[e[0],Zotero.Translators.getConverterFunctions(e[1])]]}}},Connector:{checkIsOnline:!0,callMethod:!0},API:{createItem:!0,uploadAttachment:!1}};